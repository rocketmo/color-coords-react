(this["webpackJsonpcolor-coords-react"]=this["webpackJsonpcolor-coords-react"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),s=n(24),r=n.n(s),l=n(6),a=n.n(l),c=n(13),u=n(2),h=n(21),d=n(18),j=n(48),b=n.n(j),v=n(14),O=n(8),m=n(29),p=n(4),f=n(5),x=["title","titleId"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){var n=e.title,o=e.titleId,s=g(e,x);return i.createElement("svg",y({width:31.031,height:29.924,viewBox:"0 0 31.031214 29.924433",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},s),n?i.createElement("title",{id:o},n):null,i.createElement("g",{transform:"translate(-14.022 -18.173)","data-name":"Layer 21"},i.createElement("path",{d:"m43.075 32.997a3.38 3.38 0 0 0 -1.87 -5.75l-5.25-0.79a1.42 1.42 0 0 1 -1 -0.75l-2.42-4.74a3.37 3.37 0 0 0 -6 0l-2.39 4.74a1.42 1.42 0 0 1 -1 0.75l-5.25 0.79a3.38 3.38 0 0 0 -1.9 5.75l3.78 3.72a1.4 1.4 0 0 1 0.4 1.21l-0.87 5.23a3.35 3.35 0 0 0 1.34 3.29 3.4 3.4 0 0 0 2 0.65 3.37 3.37 0 0 0 1.56 -0.39l4.7-2.44a1.38 1.38 0 0 1 1.28 0l4.7 2.44a3.37 3.37 0 0 0 4.89 -3.55l-0.87-5.23a1.4 1.4 0 0 1 0.4 -1.21z",fill:"#f7c761",stroke:"#704728",strokeWidth:2,style:{paintOrder:"normal"}})))}var w=i.forwardRef(C),T=(n.p,["title","titleId"]);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e,t){var n=e.title,o=e.titleId,s=E(e,T);return i.createElement("svg",R({width:31.031,height:29.924,viewBox:"0 0 31.031214 29.924433",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},s),n?i.createElement("title",{id:o},n):null,i.createElement("g",{transform:"translate(-14.022 -18.173)","data-name":"Layer 21"},i.createElement("path",{d:"m43.075 32.997a3.38 3.38 0 0 0 -1.87 -5.75l-5.25-0.79a1.42 1.42 0 0 1 -1 -0.75l-2.42-4.74a3.37 3.37 0 0 0 -6 0l-2.39 4.74a1.42 1.42 0 0 1 -1 0.75l-5.25 0.79a3.38 3.38 0 0 0 -1.9 5.75l3.78 3.72a1.4 1.4 0 0 1 0.4 1.21l-0.87 5.23a3.35 3.35 0 0 0 1.34 3.29 3.4 3.4 0 0 0 2 0.65 3.37 3.37 0 0 0 1.56 -0.39l4.7-2.44a1.38 1.38 0 0 1 1.28 0l4.7 2.44a3.37 3.37 0 0 0 4.89 -3.55l-0.87-5.23a1.4 1.4 0 0 1 0.4 -1.21z",fill:"#333",stroke:"#704728",strokeWidth:2,style:{paintOrder:"normal"}})))}var L=i.forwardRef(N),k=(n.p,n(0));function S(e){var t,n=e.size?{height:"".concat(e.size,"px"),width:"".concat(e.size,"px")}:{},i=null!==(t=e.className)&&void 0!==t?t:"";return e.filled?Object(k.jsx)(w,{className:i,style:n}):Object(k.jsx)(L,{className:i,style:n})}n(62);function P(e){var t="\xd7 ".concat(e.starCount);return Object(k.jsxs)("header",{className:"top-bar level-select-top-bar",children:[Object(k.jsx)(v.b,{to:"/",className:"top-bar-text back-btn","aria-label":"Go back",children:Object(k.jsx)(p.a,{icon:f.a})}),Object(k.jsx)("div",{className:"level-select-title",children:Object(k.jsx)("h1",{className:"top-bar-text",children:"Level Select"})}),Object(k.jsx)("div",{className:"level-select-stars",children:Object(k.jsxs)("span",{className:"top-bar-text",children:[Object(k.jsx)(S,{filled:!0,size:24}),t]})}),Object(k.jsx)("div",{className:"clearfix"})]})}var D,U,A,z,M=n(41),I=n(9),G=n(12),H=n(28),W=n(26),q=300,F=[12,16,20,24,32,40,48,56,64,72,80,88,96];!function(e){e.BLUE="blue",e.DARK="dark",e.DEFAULT="default",e.GREEN="green",e.ORANGE="orange",e.PURPLE="purple",e.RED="red",e.YELLOW="yellow"}(U||(U={})),function(e){e.PLAYER="player",e.TILE="tile"}(A||(A={})),function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(z||(z={}));var K=(D={},Object(W.a)(D,z.UP,{rowOffset:-1,colOffset:0}),Object(W.a)(D,z.DOWN,{rowOffset:1,colOffset:0}),Object(W.a)(D,z.LEFT,{rowOffset:0,colOffset:-1}),Object(W.a)(D,z.RIGHT,{rowOffset:0,colOffset:1}),D),Y=o.a.createContext({x:0,y:0}),B=o.a.createContext(48);n(66);function Z(e){var t,n,o,s,r,l,a=Object(i.useContext)(Y),c=Object(i.useContext)(B),u=null!==(t=e.color)&&void 0!==t?t:U.DEFAULT,h="tile-front bg-".concat(u," ").concat(e.alt?"alt":""),d=null!==(n=e.solution)&&void 0!==n?n:U.DEFAULT,j="tile-solution bg-".concat(d," ").concat(e.alt?"alt":""),b={opacity:e.showSolution?"1":"0"},v={height:"".concat(c,"px"),left:"".concat(e.col*c+a.x,"px"),top:"".concat(e.row*c+a.y,"px"),width:"".concat(c,"px")},O=null;if(o=e.row,s=e.col,r=e.playerRow,l=e.playerCol,void 0!==r&&void 0!==l&&(o===r&&s!==l||o!==r&&s===l)&&e.onTilePress){O=Object(k.jsx)("div",{className:"tile-hover",onClick:function(t){t.preventDefault(),e.onTilePress&&e.onTilePress(e.row,e.col)}})}var m={borderRadius:"".concat(Math.ceil(c/12),"px")},p={borderWidth:"".concat(Math.ceil(c/12),"px")};return Object(k.jsxs)("div",{className:"tile",style:v,children:[O,Object(k.jsx)("div",{className:j,style:b}),Object(k.jsx)("div",{className:h,style:p}),Object(k.jsx)("div",{className:"tile-back",style:m})]})}var Q=function(){function e(t,n,i,o,s){Object(I.a)(this,e),this[d.b]=!0,this.row=void 0,this.col=void 0,this.color=void 0,this.solutionColor=void 0,this.item=void 0,this.row=t,this.col=n,this.color=null!==i&&void 0!==i?i:U.DEFAULT,this.solutionColor=null!==o&&void 0!==o?o:U.DEFAULT,this.item=s}return Object(G.a)(e,[{key:"updateColor",value:function(e){return this.color===U.DARK?null:e===U.DARK&&this.color!==U.DEFAULT?(this.color=U.DEFAULT,this.color):e!==U.DEFAULT&&e!==U.DARK&&e!==this.color?(this.color=e,this.color):null}},{key:"renderElements",value:function(e,t,n,i){var o="tile-".concat(this.row,"-").concat(this.col),s=[];return s.push(Object(k.jsx)(Z,{color:this.color,alt:(this.row+this.col)%2===0,solution:this.solutionColor,showSolution:e,row:this.row,col:this.col,playerRow:t,playerCol:n,onTilePress:i},o)),this.item&&s.push(this.item.render(this.row,this.col)),s}},{key:"renderSolution",value:function(){var e="solution-tile-".concat(this.row,"-").concat(this.col);return Object(k.jsx)(Z,{color:this.solutionColor,alt:(this.row+this.col)%2===0,row:this.row,col:this.col},e)}}]),e}(),X=function(){function e(t){Object(I.a)(this,e),this[d.b]=!0,this.cells=void 0,this.width=void 0,this.height=void 0,this.cells=t.map((function(e,t){return e.map((function(e,n){return e.hasTile?new Q(t,n,e.tileColor,e.solutionColor,Object(H.cloneDeep)(e.item)):null}))})),this.height=this.cells.length,this.width=Math.max.apply(Math,Object(M.a)(this.cells.map((function(e){return e.length}))))}return Object(G.a)(e,[{key:"getCellAt",value:function(e,t){return this.cells[e]&&this.cells[e][t]?this.cells[e][t]:null}},{key:"isGridSolved",value:function(){for(var e=0;e<this.cells.length;e+=1)for(var t=0;t<this.cells[e].length;t+=1){var n,i,o,s;if((null!==(n=null===(i=this.cells[e][t])||void 0===i?void 0:i.color)&&void 0!==n?n:null)!==(null!==(o=null===(s=this.cells[e][t])||void 0===s?void 0:s.solutionColor)&&void 0!==o?o:null))return!1}return!0}},{key:"renderElements",value:function(e,t,n,i){for(var o=[],s=0;s<this.cells.length;s+=1)for(var r=0;r<this.cells[s].length;r+=1){var l=this.cells[s][r];l&&o.push.apply(o,Object(M.a)(l.renderElements(e,t,n,i)))}return o}},{key:"renderSolution",value:function(){for(var e=[],t=0;t<this.cells.length;t+=1)for(var n=0;n<this.cells[t].length;n+=1){var i=this.cells[t][n];i&&e.push(i.renderSolution())}return e}},{key:"getCenterOffset",value:function(e,t,n){return{x:(t-this.width*e)/2,y:(n-this.height*e)/2}}}]),e}();n(67);function _(e){var t=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),n=t.width,i=t.height,o=t.ref,s=e.grid.getCenterOffset(20,null!==n&&void 0!==n?n:0,null!==i&&void 0!==i?i:0),r=e.grid.renderSolution();return Object(k.jsx)(Y.Provider,{value:s,children:Object(k.jsx)(B.Provider,{value:20,children:Object(k.jsx)("div",{className:"level-preview-grid",ref:o,children:r})})})}var J=n(23),V=n(22),$=function(){function e(){Object(I.a)(this,e),this[d.b]=!0}return Object(G.a)(e,[{key:"updatePlayerColor",value:function(){return null}}]),e}();n(71);function ee(e){var t=Object(i.useContext)(Y),n=Object(i.useContext)(B),o=Object(i.useState)(4*Math.random()),s=Object(u.a)(o,1)[0],r=Math.floor(5*n/12),l=(n-r)/2,a="swatch bg-".concat(e.color),c={animationDelay:"-".concat(s,"s"),height:"".concat(r,"px"),left:"".concat(e.col*n+l+t.x,"px"),top:"".concat(e.row*n+l+t.y,"px"),width:"".concat(r,"px")},h={borderWidth:"".concat(Math.ceil(3*r/20),"px")};return Object(k.jsx)("div",{className:a,style:c,children:Object(k.jsx)("div",{className:"swatch-border",style:h})})}var te=function(e){Object(J.a)(n,e);var t=Object(V.a)(n);function n(e){var i;return Object(I.a)(this,n),(i=t.call(this)).color=void 0,i.color=null!==e&&void 0!==e?e:U.DEFAULT,i}return Object(G.a)(n,[{key:"render",value:function(e,t){var n="swatch-".concat(e,"-").concat(t);return Object(k.jsx)(ee,{color:this.color,row:e,col:t},n)}},{key:"updatePlayerColor",value:function(){return this.color}}]),n}($),ne={id:"X08Cn2VWa0C6YvdCaTQMFw==",description:Object(k.jsxs)("p",{children:["An introduction to the game of ",Object(k.jsx)("em",{children:"Color Coords"}),"."]}),gridConfig:[[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.BLUE,item:new te(U.BLUE)}],[{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.BLUE}],[{hasTile:!0,solutionColor:U.RED,item:new te(U.RED)},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED}]],playerRow:1,playerCol:1,levelName:"Swatches I",starRequirement3:12,starRequirement2:16,requiredToUnlock:0},ie={id:"czdtzyW72UKVkwfmYkRCAA==",gridConfig:[[{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.ORANGE}],[{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.ORANGE}],[{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.ORANGE,item:new te(U.ORANGE)},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE,item:new te(U.PURPLE)}],[{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE}]],playerRow:2,playerCol:2,levelName:"Swatches II",starRequirement3:17,starRequirement2:20,requiredToUnlock:1},oe={id:"ZascZkE+A0CjlYxEmU65cQ==",gridConfig:[[{hasTile:!0,solutionColor:U.GREEN,item:new te(U.GREEN)},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.YELLOW,item:new te(U.YELLOW)}],[{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.YELLOW}],[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!1},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.GREEN}],[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.GREEN}]],playerRow:3,playerCol:2,levelName:"Swatches III",starRequirement3:47,starRequirement2:54,requiredToUnlock:1},se={id:"DwaPoAeJnkmnOGFPsUKPIw==",gridConfig:[[{hasTile:!0,solutionColor:U.YELLOW,item:new te(U.YELLOW)},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.RED,item:new te(U.RED)}],[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.YELLOW}],[{hasTile:!0,solutionColor:U.BLUE,item:new te(U.BLUE)},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED}]],playerRow:1,playerCol:1,levelName:"Tricolor",starRequirement3:17,starRequirement2:22,requiredToUnlock:3},re={id:"N93y5GKYIEW2k+16R9tSOQ==",gridConfig:[[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.RED,item:new te(U.RED)},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.YELLOW,item:new te(U.YELLOW)},{hasTile:!0,solutionColor:U.RED}],[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.YELLOW}],[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!1},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!1},{hasTile:!0,solutionColor:U.RED}],[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.PURPLE,item:new te(U.PURPLE)},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.YELLOW}],[{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.YELLOW},{hasTile:!0,solutionColor:U.RED}]],playerRow:2,playerCol:2,levelName:"Up the Middle",starRequirement3:76,starRequirement2:90,requiredToUnlock:3},le=[ne,ie,oe,se,{id:"TybPZyZJYEae4LbNHlbeYg==",gridConfig:[[{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.BLUE,item:new te(U.BLUE)},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!1},{hasTile:!1},{hasTile:!1},{hasTile:!1}],[{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.PURPLE},{hasTile:!0,solutionColor:U.ORANGE}],[{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!1},{hasTile:!0,solutionColor:U.PURPLE,item:new te(U.PURPLE)},{hasTile:!1},{hasTile:!0,solutionColor:U.ORANGE,item:new te(U.ORANGE)}]],playerRow:0,playerCol:0,levelName:"Keys",starRequirement3:30,starRequirement2:35,requiredToUnlock:3},re,{id:"mWgTHtQTikqu7J9n3kjeDg==",description:Object(k.jsx)("p",{children:"An introduction to dark tiles."}),gridConfig:[[{hasTile:!0,solutionColor:U.PURPLE,item:new te(U.PURPLE)},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK},{hasTile:!0,solutionColor:U.GREEN}],[{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK},{hasTile:!0,solutionColor:U.PURPLE}],[{hasTile:!0,solutionColor:U.GREEN,item:new te(U.GREEN)},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK},{hasTile:!0,solutionColor:U.ORANGE,item:new te(U.ORANGE)}]],playerRow:1,playerCol:1,levelName:"Dark Tiles I",starRequirement3:14,starRequirement2:15,requiredToUnlock:7},{id:"6CLrD8Z0TUK3lqRrQQB/qQ==",gridConfig:[[{hasTile:!0,solutionColor:U.GREEN,item:new te(U.GREEN)},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.BLUE,item:new te(U.BLUE)}],[{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.BLUE}],[{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,solutionColor:U.ORANGE},{hasTile:!0,solutionColor:U.GREEN},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK}],[{hasTile:!0,solutionColor:U.ORANGE,item:new te(U.ORANGE)},{hasTile:!0,solutionColor:U.BLUE},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK},{hasTile:!0,tileColor:U.DARK,solutionColor:U.DARK}]],playerRow:1,playerCol:1,levelName:"Dark Tiles II",starRequirement3:50,starRequirement2:60,requiredToUnlock:8},{id:"AZn/4XVi8EOd/qqCmO9icQ==",description:Object(k.jsx)("p",{children:"An introduction to the dark swatch."}),gridConfig:[[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.DEFAULT},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED,item:new te(U.RED)}],[{hasTile:!0,solutionColor:U.DEFAULT},{hasTile:!0,solutionColor:U.DEFAULT,item:new te(U.DARK)},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED}],[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.DEFAULT},{hasTile:!0,solutionColor:U.DEFAULT}],[{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.RED},{hasTile:!0,solutionColor:U.DEFAULT},{hasTile:!0,solutionColor:U.RED}]],playerRow:3,playerCol:3,levelName:"Erasure",starRequirement3:29,starRequirement2:34,requiredToUnlock:10}],ae=(n(72),16);function ce(e){return Object(k.jsx)("table",{children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsxs)("span",{className:"star-container",children:[Object(k.jsx)(S,{filled:!0,size:ae}),Object(k.jsx)(S,{filled:!1,size:ae}),Object(k.jsx)(S,{filled:!1,size:ae})]})}),Object(k.jsx)("td",{children:"Complete the level\u2026"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:[Object(k.jsx)(S,{filled:!0,size:ae}),Object(k.jsx)(S,{filled:!0,size:ae}),Object(k.jsx)(S,{filled:!1,size:ae})]}),Object(k.jsx)("td",{children:"\u2026in ".concat(e.starRequirement2," or fewer moves.")})]}),Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:[Object(k.jsx)(S,{filled:!0,size:ae}),Object(k.jsx)(S,{filled:!0,size:ae}),Object(k.jsx)(S,{filled:!0,size:ae})]}),Object(k.jsx)("td",{children:"\u2026in ".concat(e.starRequirement3," or fewer moves.")})]})]})})}function ue(e,t){for(var n=[],i=void 0!==t&&t>0?"".concat(t," moves"):"-",o=1;o<=3;o+=1)n.push(Object(k.jsx)(S,{filled:o<=e,size:ae},"pb-star-".concat(o)));return Object(k.jsx)("table",{children:Object(k.jsx)("tbody",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("span",{className:"star-container",children:n})}),Object(k.jsx)("td",{children:i})]})})})}function he(e){if(null!==e.selectedLevel&&le[e.selectedLevel-1]){var t,n=le[e.selectedLevel-1],i=e.starsScoredOnLevel(e.selectedLevel),o=e.starsToUnlockLevel(e.selectedLevel);if(i<0)return Object(k.jsxs)("section",{className:"level-preview",children:[Object(k.jsx)("div",{className:"locked-box",children:Object(k.jsx)(p.a,{icon:f.c})}),Object(k.jsxs)("h2",{children:[e.selectedLevel,". ",n.levelName]}),Object(k.jsxs)("p",{className:"unlock-text",children:["Collect a total of ",n.requiredToUnlock,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:ae})})," to unlock this level (you need ",o,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:ae})})," more)."]})]});var s=new X(n.gridConfig);return Object(k.jsxs)("section",{className:"level-preview",children:[Object(k.jsx)(_,{grid:s}),Object(k.jsxs)("h2",{children:[e.selectedLevel,". ",n.levelName]}),n.description,Object(k.jsxs)(v.b,{to:"/game/".concat(e.selectedLevel),className:"play-btn",children:[Object(k.jsx)(p.a,{icon:f.d})," Play"]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h3",{children:"Personal Best"}),ue(i,null===(t=e.levelScoreMap[n.id])||void 0===t?void 0:t.moves),Object(k.jsx)("h3",{children:"Scoring"}),ce(n)]})}return Object(k.jsx)("section",{className:"level-preview"})}n(73);function de(e){var t=function(t,n){n.preventDefault(),e.selectedLevel===t?e.setIsSelected(!e.isSelected):(e.setIsSelected(!0),e.setSelectedLevel(t))},n=le.map((function(n,i){var o="level-select-btn",s=i+1,r=e.starsScoredOnLevel(s);return e.isSelected&&e.selectedLevel===s?o+=" btn-highlight":r>=3?o+=" btn-star-3":r>0?o+=" btn-star-1":r<0&&(o+=" btn-locked"),Object(k.jsx)("button",{className:o,onClick:t.bind(null,s),"aria-label":"Toggle preview of level ".concat(s),children:s},"level-btn-".concat(n.id))}));return Object(k.jsx)("section",{className:"level-btn-container",ref:e.containerRef,children:n})}n(74);function je(e){var t=function(t,n){n.preventDefault(),e.selectedLevel===t?e.setIsSelected(!e.isSelected):(e.setIsSelected(!0),e.setSelectedLevel(t))},n=le.map((function(n,i){var o="level-select-mobile-btn",s=i+1,r=e.starsScoredOnLevel(s);e.isSelected&&e.selectedLevel===s?o+=" btn-highlight":r>=3?o+=" btn-star-3":r>0?o+=" btn-star-1":r<0&&(o+=" btn-locked");var l=null;if(r<0){var a=e.starsToUnlockLevel(s),c="level-preview-mobile level-preview-locked";c+=e.isSelected&&e.selectedLevel===s?" preview-open":"",l=Object(k.jsx)("section",{className:c,children:Object(k.jsxs)("div",{className:"level-preview-padding",children:[Object(k.jsx)("div",{className:"locked-box",children:Object(k.jsx)(p.a,{icon:f.c})}),Object(k.jsxs)("p",{className:"unlock-text",children:["Collect a total of ",n.requiredToUnlock,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:16})})," to unlock this level (you need ",a,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:16})})," more)."]})]})})}else{var u,h=new X(n.gridConfig),d="level-preview-mobile";d+=e.isSelected&&e.selectedLevel===s?" preview-open":"",l=Object(k.jsx)("section",{className:d,children:Object(k.jsxs)("div",{className:"level-preview-padding",children:[Object(k.jsx)(_,{grid:h}),n.description,Object(k.jsxs)(v.b,{to:"/game/".concat(e.selectedLevel),className:"play-btn",children:[Object(k.jsx)(p.a,{icon:f.d})," Play"]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h3",{children:"Personal Best"}),ue(r,null===(u=e.levelScoreMap[n.id])||void 0===u?void 0:u.moves),Object(k.jsx)("h3",{children:"Scoring"}),ce(n)]})})}return Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{className:o,onClick:t.bind(null,s),"aria-label":"Toggle preview of level ".concat(s),children:Object(k.jsxs)("h2",{children:[s,". ",n.levelName]})}),l]},"level-btn-mobile-".concat(n.id))}));return Object(k.jsx)("main",{className:"level-select-mobile",children:n})}n(75);function be(e){var t=Object(i.useState)(null),n=Object(u.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(!1),l=Object(u.a)(r,2),a=l[0],c=l[1],h=Object(i.useRef)(null),d=a?"level-select-main level-selected":"level-select-main";return Object(k.jsxs)("div",{className:"level-select",children:[Object(k.jsx)(P,{starCount:e.starCount}),Object(k.jsxs)("main",{className:d,onClick:function(e){e.preventDefault(),e.target===h.current&&c(!1)},children:[Object(k.jsx)(de,{selectedLevel:o,isSelected:a,setSelectedLevel:s,setIsSelected:c,containerRef:h,starsScoredOnLevel:e.starsScoredOnLevel}),Object(k.jsx)(he,{selectedLevel:o,levelScoreMap:e.levelScoreMap,starsScoredOnLevel:e.starsScoredOnLevel,starsToUnlockLevel:e.starsToUnlockLevel})]}),Object(k.jsx)(je,{selectedLevel:o,isSelected:a,setSelectedLevel:s,setIsSelected:c,starsScoredOnLevel:e.starsScoredOnLevel,levelScoreMap:e.levelScoreMap,starsToUnlockLevel:e.starsToUnlockLevel})]})}var ve=n(7),Oe=n(50),me=n(11);var pe=n(105);n(79);function fe(e){var t,n=e.row,o=e.col,s=e.movementToggle,r=Object(i.useState)(n),l=Object(u.a)(r,2),a=l[0],c=l[1],h=Object(i.useState)(o),d=Object(u.a)(h,2),j=d[0],b=d[1],v=Object(i.useContext)(Y),O=Object(i.useContext)(B),m=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e}),[e]),t.current}({row:n,col:o}),p=5*O/6,f=(O-p)/2;Object(i.useEffect)((function(){if(s&&m)var t=0,i=setInterval((function(){if(t>70)clearInterval(i),e.onAnimationEnd();else{t+=1;var s=Object(pe.a)(t/70);c(m.row+(n-m.row)*s),b(m.col+(o-m.col)*s)}}),5);else c(n),b(o)}),[n,o,s]);var x=null!==(t=e.color)&&void 0!==t?t:U.DEFAULT,y="player-color bg-".concat(x),g=Math.ceil(O/12),C={borderRadius:"".concat(p,"px"),borderWidth:"".concat(g,"px"),height:"".concat(p,"px"),left:"".concat(j*O+f+v.x,"px"),top:"".concat(a*O+f+v.y,"px"),width:"".concat(p,"px")},w={borderRadius:"".concat(p,"px"),borderWidth:"".concat(g,"px")};return Object(k.jsxs)("div",{className:"player",style:C,children:[Object(k.jsx)("div",{className:y,style:w}),Object(k.jsx)("div",{className:"player-border",style:w})]})}function xe(e){return new Promise((function(t){setTimeout(t,e)}))}function ye(e,t,n){return Math.min(Math.max(n,e),t)}n(80);function ge(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(!1),l=Object(u.a)(r,2),d=l[0],j=l[1],b=Object(i.useState)(0),v=Object(u.a)(b,2),O=v[0],m=v[1],p=Object(i.useState)(0),f=Object(u.a)(p,2),x=f[0],y=f[1],g=Object(i.useState)(0),C=Object(u.a)(g,2),w=C[0],T=C[1],R=Object(i.useState)(0),E=Object(u.a)(R,2),N=E[0],L=E[1],S=Object(i.useState)(0),P=Object(u.a)(S,2),D=P[0],U=P[1],A=Object(i.useState)(!1),z=Object(u.a)(A,2),M=z[0],I=z[1],G=Object(i.useContext)(B),H=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),W=H.width,q=H.height,F=H.ref,K=e.grid.getCenterOffset(G,null!==W&&void 0!==W?W:0,null!==q&&void 0!==q?q:0);K.x+=N*(null!==W&&void 0!==W?W:0),K.y+=D*(null!==q&&void 0!==q?q:0);var Z=function(){W&&q&&(U(48/(2*q)),L(W<640?0:-300/(2*W)),I(!0))};Object(i.useEffect)((function(){e.onGridSizeChange(W,q),M||Z()}),[W,q]),Object(i.useEffect)((function(){Z()}),[e.levelNumber]),Object(i.useEffect)((function(){e.shouldResetLayout&&Z()}),[e.shouldResetLayout]);var Q=e.isPlayerMoving?e.grid.renderElements(e.showSolution):e.grid.renderElements(e.showSolution,e.playerRow,e.playerCol,e.onTilePress),X=function(){var t=Object(c.a)(a.a.mark((function t(n){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=d,s(!1),m(0),j(!1),F.current&&F.current.releasePointerCapture(n.pointerId),!i){t.next=8;break}return t.next=8,xe(0);case 8:e.dragHandler(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_={className:"tile-grid ".concat(d?"grid-dragging":""),ref:F,onPointerDown:function(e){s(!0),m(0),j(!1),y(e.clientX),T(e.clientY)},onPointerUp:X};return o&&(_.onPointerMove=function(t){if(o){var n=Math.abs(t.clientX-x),i=Math.abs(t.clientY-w),s=O+Math.pow(n,2)+Math.pow(i,2);if(m(s),d||s>=100){j(!0),e.dragHandler(!0),F.current&&F.current.setPointerCapture(t.pointerId);var r=N+(t.clientX-x)/(W||1);r=ye(r,.5,-.5);var l=D+(t.clientY-w)/(q||1);l=ye(l,.5,-.5),L(r),U(l),y(t.clientX),T(t.clientY)}}}),Object(k.jsx)(Y.Provider,{value:K,children:Object(k.jsxs)("div",Object(me.a)(Object(me.a)({},_),{},{children:[Q,Object(k.jsx)(fe,{color:e.playerColor,row:e.playerRow,col:e.playerCol,movementToggle:e.isPlayerMoving,onAnimationEnd:e.onPlayerAnimationEnd})]}))})}n(81);function Ce(e){var t=e.isOpen?"game-menu-open":"game-menu-closed",n="game-menu-overlay ".concat(t),i="game-menu-nav ".concat(t),o=e.isOpen?0:-1;p.a,f.b;return Object(k.jsxs)("div",{className:"game-menu",children:[Object(k.jsx)("div",{className:n,onClick:function(t){t.preventDefault(),e.setOpen(!1)}}),Object(k.jsxs)("nav",{className:i,children:[Object(k.jsxs)(v.b,{to:"/level-select",tabIndex:o,className:"game-menu-btn game-menu-first",children:[Object(k.jsx)(p.a,{icon:f.j}),Object(k.jsx)("span",{children:"Level Select"})]}),Object(k.jsxs)("button",{className:"game-menu-btn",tabIndex:o,onClick:function(t){t.preventDefault(),e.showInstructions()},children:[Object(k.jsx)(p.a,{icon:f.e}),Object(k.jsx)("span",{children:"How to Play"})]}),Object(k.jsxs)("button",{className:"game-menu-btn game-menu-last",tabIndex:o,onClick:function(t){t.preventDefault(),e.resetLayout(),e.setOpen(!1)},children:[Object(k.jsx)(p.a,{icon:f.i}),Object(k.jsx)("span",{children:"Reset Layout"})]})]})]})}var we=n(106);n(82);function Te(e){return Object(k.jsxs)("header",{className:"top-bar game-top-bar",children:[Object(k.jsx)("div",{className:"hamburger-btn",children:Object(k.jsx)(we.a,{toggled:e.isMenuOpen,onToggle:e.setMenuOpen,rounded:!0,size:24,label:"Toggle menu",hideOutline:!1})}),Object(k.jsx)("div",{className:"game-level",children:Object(k.jsxs)("h1",{className:"top-bar-text",children:[e.levelNumber,". ",e.levelName]})}),Object(k.jsx)("div",{className:"moves-taken",children:Object(k.jsxs)("span",{className:"top-bar-text",children:["Moves: ",e.movesTaken]})}),Object(k.jsx)("div",{className:"clearfix"})]})}n(83);function Re(e){return Object(k.jsxs)("div",{className:"game-hud",children:[Object(k.jsx)(Te,{isMenuOpen:e.isMenuOpen,setMenuOpen:e.setMenuOpen,levelNumber:e.levelNumber,levelName:e.levelName,movesTaken:e.movesTaken}),Object(k.jsx)(Ce,{isOpen:e.isMenuOpen,setOpen:e.setMenuOpen,showSettings:e.showSettings,showInstructions:e.showInstructions,resetLayout:e.resetLayout})]})}n(84);function Ee(e){var t=null,n=null,i=null;if(le[e.levelNumber]){var o=le[e.levelNumber];if(e.starsScoredOnLevel(e.levelNumber+1)>=0)t=Object(k.jsxs)(v.b,{to:"/game/".concat(e.levelNumber+1),className:"level-complete-btn",children:[Object(k.jsx)(p.a,{icon:f.d})," Next Level"]});else{var s=e.starsToUnlockLevel(e.levelNumber+1);n=Object(k.jsxs)("p",{className:"level-complete-unlock-text",children:["Collect a total of ",o.requiredToUnlock,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:16})})," to unlock the next level (you need ",s,Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:16})})," more)."]}),t=Object(k.jsxs)("button",{className:"level-complete-btn locked-next-btn",children:[Object(k.jsx)(p.a,{icon:f.c})," Next Level"]})}}if(le[e.levelNumber-1]&&e.stars<3){var r=le[e.levelNumber-1];i=Object(k.jsxs)("div",{className:"level-complete-3s-text",children:["Complete the puzzle in ",Object(k.jsx)("strong",{children:r.starRequirement3})," moves to earn a 3",Object(k.jsx)("span",{children:Object(k.jsx)(S,{filled:!0,size:16})})," "," score."]})}for(var l=[],a=1;a<=3;a+=1)l.push(Object(k.jsx)(S,{filled:a<=e.stars,className:"level-complete-star lcs-".concat(a),size:50},"lcs-".concat(a)));return Object(k.jsx)("div",{className:"level-complete",children:Object(k.jsxs)("div",{className:"level-complete-main",children:[Object(k.jsx)("div",{className:"level-complete-star-container",children:l}),Object(k.jsx)("div",{className:"level-complete-msg",children:"Puzzle Completed!"}),i,Object(k.jsxs)("div",{className:"level-complete-btn-container",children:[Object(k.jsxs)(v.b,{to:"/level-select",className:"level-complete-btn",children:[Object(k.jsx)(p.a,{icon:f.j})," Level Select"]}),Object(k.jsxs)("button",{className:"level-complete-btn",onClick:function(t){t.preventDefault(),e.restartHandler()},children:[Object(k.jsx)(p.a,{icon:f.i})," Restart"]}),t]}),n]})})}var Ne=n(40);n(90);function Le(e){var t=Object(i.useContext)(Y),n=Object(i.useContext)(B),o={height:"".concat(n,"px"),left:"".concat(e.col*n+t.x,"px"),top:"".concat(e.row*n+t.y,"px"),width:"".concat(n,"px")},s={borderWidth:Math.floor(3*n/20),height:Math.floor(n/5),width:Math.floor(n/5)};return Object(k.jsxs)("div",{className:"solution-player-cursor",style:o,children:[Object(k.jsx)("div",{className:"cursor-corner cursor-corner-top-left",style:s}),Object(k.jsx)("div",{className:"cursor-corner cursor-corner-top-right",style:s}),Object(k.jsx)("div",{className:"cursor-corner cursor-corner-bottom-left",style:s}),Object(k.jsx)("div",{className:"cursor-corner cursor-corner-bottom-right",style:s})]})}n(91);function ke(e,t){t.preventDefault(),e()}function Se(e){var t=ke.bind(null,e.zoomInHandler),n=ke.bind(null,e.zoomOutHandler),i="adjust-btn ".concat(e.canZoomIn?"":" adjust-disabled"),o="adjust-btn ".concat(e.canZoomOut?"":" adjust-disabled");return Object(k.jsxs)("div",{id:"solution-adjust-menu",className:"adjust-menu solution-adjust-menu",children:[Object(k.jsxs)("div",{className:i,children:[Object(k.jsx)("button",{tabIndex:0,onClick:t,"aria-label":"Zoom in",children:Object(k.jsx)(p.a,{icon:f.h})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Zoom In"})]}),Object(k.jsxs)("div",{className:o,children:[Object(k.jsx)("button",{tabIndex:0,onClick:n,"aria-label":"Zoom out",children:Object(k.jsx)(p.a,{icon:f.g})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Zoom Out"})]})]})}n(92);var Pe=100;function De(e,t,n){if(!t||!n)return 0;var i=-4/n;return ye(e,Math.max(i,(n-t-12)/n),i)}function Ue(e,t,n){if(!t||!n)return 0;var i=-4/n;return ye(e,Math.max(i,(n-t-84)/n),i)}function Ae(e,t){return t?4+e*t:4}function ze(e,t){return t?52+e*t:4}function Me(e,t,n,i,o,s){var r=o-Ae(n,o)-8,l=s-ze(i,s)-32;return{width:Math.max(Math.min(e,r),Pe),height:Math.max(Math.min(t,l),Pe)}}function Ie(e){var t,n=Object(i.useState)(2),o=Object(u.a)(n,2),s=o[0],r=o[1],l=Object(i.useState)(q),d=Object(u.a)(l,2),j=d[0],b=d[1],v=Object(i.useState)(q),O=Object(u.a)(v,2),m=O[0],p=O[1],f=Object(i.useState)(.35),x=Object(u.a)(f,2),y=x[0],g=x[1],C=Object(i.useState)(0),w=Object(u.a)(C,2),T=w[0],R=w[1],E=Object(i.useState)(0),N=Object(u.a)(E,2),L=N[0],S=N[1],P=Object(i.useState)(!1),D=Object(u.a)(P,2),U=D[0],A=D[1],z=Object(i.useState)(0),M=Object(u.a)(z,2),I=M[0],G=M[1],H=Object(i.useState)(0),W=Object(u.a)(H,2),K=W[0],Z=W[1],Q=Object(i.useState)(!1),X=Object(u.a)(Q,2),_=X[0],J=X[1],V=Object(i.useState)(0),$=Object(u.a)(V,2),ee=$[0],te=$[1],ne=Object(i.useState)(0),ie=Object(u.a)(ne,2),oe=ie[0],se=ie[1],re=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),le=re.width,ae=re.height,ce=re.ref,ue=null!==(t=F[s])&&void 0!==t?t:20,he=e.grid.getCenterOffset(ue,null!==le&&void 0!==le?le:0,null!==ae&&void 0!==ae?ae:0),de=Object(i.useRef)(null),je=void 0!==e.gridWidth&&e.gridWidth<640;he.x+=I*(null!==le&&void 0!==le?le:0),he.y+=K*(null!==ae&&void 0!==ae?ae:0);var be=function(){G(0),Z(0),r(2),b(q),p(q),te(0),se(0),g(.35)};Object(i.useEffect)((function(){be()}),[e.levelNumber]),Object(i.useEffect)((function(){e.shouldResetLayout&&be()}),[e.shouldResetLayout]),Object(i.useEffect)((function(){if(!je){var t=De(ee,j,e.gridWidth),n=Ue(oe,m,e.gridHeight);if(te(t),se(n),e.gridWidth&&e.gridHeight){var i=Me(j,m,t,n,e.gridWidth,e.gridHeight);b(i.width),p(i.height)}}}),[e.gridWidth,e.gridHeight]),Object(i.useEffect)((function(){if(e.appHeight){var t=ye(y,.8,35/e.appHeight);g(t)}}),[e.appHeight]);var ve=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!1),ce.current&&ce.current.releasePointerCapture(t.pointerId);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!1),de.current&&de.current.releasePointerCapture(t.pointerId);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=!e.gameOver&&!e.isMenuOpen,fe=s<F.length-1,xe=s>0,ge={className:"solution",ref:ce,onPointerDown:function(e){(function(e,t){for(;e;){var n;if((null===(n=e)||void 0===n?void 0:n.id)===t)return!0;e=e.parentElement}return!1})(e.target,"solution-adjust-menu")||(A(!0),R(e.clientX),S(e.clientY),ce.current&&ce.current.setPointerCapture(e.pointerId))},onPointerUp:ve};je||(ge.style={height:"".concat(m,"px"),width:"".concat(j,"px")}),U&&(ge.onPointerMove=function(e){if(U){var t=I+(e.clientX-T)/(le||1);t=ye(t,.5,-.5);var n=K+(e.clientY-L)/(ae||1);n=ye(n,.5,-.5),G(t),Z(n),R(e.clientX),S(e.clientY)}});var Ce="solution-target-text",we={className:Ce+=je?"":" solution-draggable",ref:de,onPointerDown:function(e){je||(J(!0),R(e.clientX),S(e.clientY),de.current&&de.current.setPointerCapture(e.pointerId))},onPointerUp:Oe};_&&(we.onPointerMove=function(t){if(_&&!je){var n=ee-(t.clientX-T)/(e.gridWidth||1);n=De(n,j,e.gridWidth);var i=oe+(t.clientY-L)/(e.gridHeight||1);i=Ue(i,m,e.gridHeight),te(n),se(i),R(t.clientX),S(t.clientY)}});var Te={},Re=e.appHeight?e.appHeight*y:35;je?Te.height="".concat(Re,"px"):(Te.right=Ae(ee,e.gridWidth),Te.top=ze(oe,e.gridHeight));var Ee=e.grid.renderSolution(),ke=Object(k.jsxs)("div",{className:"solution-container",style:Te,children:[Object(k.jsx)("span",Object(me.a)(Object(me.a)({},we),{},{children:"Target"})),Object(k.jsxs)("div",Object(me.a)(Object(me.a)({},ge),{},{children:[Object(k.jsx)(Se,{canZoomIn:fe,canZoomOut:xe,zoomInHandler:function(){fe&&pe&&r(s+1)},zoomOutHandler:function(){xe&&pe&&r(s-1)}}),Ee,Object(k.jsx)(Le,{row:e.playerRow,col:e.playerCol})]}))]});if(je){var Ie=e.appHeight?Math.max(.8*e.appHeight,35):500;ke=Object(k.jsx)(Ne.Resizable,{axis:"y",width:0,height:Re,onResize:function(t,n){if(e.appHeight){var i=n.size.height/e.appHeight;i=ye(i,.8,35/e.appHeight),g(i)}},minConstraints:[0,35],maxConstraints:[1/0,Ie],resizeHandles:["n"],children:ke})}else ke=Object(k.jsx)(Ne.Resizable,{height:m,width:j,onResize:function(t,n){var i=n.size.width,o=n.size.height;if(e.gridWidth&&e.gridHeight){var s=Me(i,o,ee,oe,e.gridWidth,e.gridHeight);i=s.width,o=s.height}b(i),p(o)},minConstraints:[Pe,Pe],maxConstraints:[500,500],resizeHandles:["sw"],children:ke});return Object(k.jsx)(Y.Provider,{value:he,children:Object(k.jsx)(B.Provider,{value:ue,children:ke})})}n(93);function Ge(e,t){t.preventDefault(),e()}function He(e){var t=Ge.bind(null,e.restartHandler),n=Ge.bind(null,e.undoHandler),i=Ge.bind(null,e.redoHandler),o=Ge.bind(null,e.zoomInHandler),s=Ge.bind(null,e.zoomOutHandler),r="adjust-btn ".concat(e.canUndo?"":" adjust-disabled"),l="adjust-btn ".concat(e.canRedo?"":" adjust-disabled"),a="adjust-btn ".concat(e.canZoomIn?"":" adjust-disabled"),c="adjust-btn ".concat(e.canZoomOut?"":" adjust-disabled");return Object(k.jsxs)("div",{className:"adjust-menu game-adjust-menu",children:[Object(k.jsxs)("div",{className:"adjust-btn",children:[Object(k.jsx)("button",{tabIndex:0,onClick:t,"aria-label":"Restart game",children:Object(k.jsx)(p.a,{icon:f.i})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Restart"})]}),Object(k.jsx)("div",{className:"adjust-separator"}),Object(k.jsxs)("div",{className:r,children:[Object(k.jsx)("button",{tabIndex:0,onClick:n,"aria-label":"Undo",children:Object(k.jsx)(p.a,{icon:f.k})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Undo"})]}),Object(k.jsxs)("div",{className:l,children:[Object(k.jsx)("button",{tabIndex:0,onClick:i,"aria-label":"Redo",children:Object(k.jsx)(p.a,{icon:f.f})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Redo"})]}),Object(k.jsx)("div",{className:"adjust-separator"}),Object(k.jsxs)("div",{className:a,children:[Object(k.jsx)("button",{tabIndex:0,onClick:o,"aria-label":"Zoom in",children:Object(k.jsx)(p.a,{icon:f.h})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Zoom In"})]}),Object(k.jsxs)("div",{className:c,children:[Object(k.jsx)("button",{tabIndex:0,onClick:s,"aria-label":"Zoom out",children:Object(k.jsx)(p.a,{icon:f.g})}),Object(k.jsx)("div",{className:"adjust-tooltip",children:"Zoom Out"})]})]})}n(94);function We(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1],r="settings ".concat(e.visible?"settings-enabled":""),l=function(e,t){t.preventDefault(),s(e)},a=null;if(e.onEraseData){var c=null;o&&(c=Object(k.jsxs)("div",{children:[Object(k.jsxs)("p",{children:["Are you sure you want to continue. If yes, your save data will be ",Object(k.jsx)("strong",{children:"permanently"})," erased."]}),Object(k.jsx)("button",{className:"erase-confirm-btn erase-continue",onClick:function(t){t.preventDefault(),e.onEraseData&&e.onEraseData(),s(!1)},children:"Continue"}),Object(k.jsx)("button",{className:"erase-confirm-btn erase-cancel",onClick:l.bind(null,!1),children:"Cancel"})]})),a=Object(k.jsxs)("div",{className:"settings-erase",children:[Object(k.jsx)("h2",{children:"Save Data"}),Object(k.jsx)("button",{onClick:l.bind(null,!0),children:"Erase save data?"}),c]})}return Object(k.jsxs)("div",{className:r,children:[Object(k.jsxs)("header",{className:"top-bar settings-top-bar",children:[Object(k.jsx)("button",{className:"top-bar-text back-btn","aria-label":"Go back",onClick:function(t){t.preventDefault(),s(!1),e.onGoBack()},children:Object(k.jsx)(p.a,{icon:f.a})}),Object(k.jsx)("div",{className:"level-select-title",children:Object(k.jsx)("h1",{className:"top-bar-text",children:"Settings"})}),Object(k.jsx)("div",{className:"clearfix"})]}),Object(k.jsx)("main",{className:"settings-main",children:Object(k.jsx)("section",{className:"settings-section",children:a})})]})}n(95);function qe(e){var t="instructions ".concat(e.visible?"instructions-enabled":"");return Object(k.jsxs)("div",{className:t,children:[Object(k.jsxs)("header",{className:"top-bar instructions-top-bar",children:[Object(k.jsx)("button",{className:"top-bar-text back-btn","aria-label":"Go back",onClick:function(t){t.preventDefault(),e.onGoBack()},children:Object(k.jsx)(p.a,{icon:f.a})}),Object(k.jsx)("div",{className:"level-select-title",children:Object(k.jsx)("h1",{className:"top-bar-text",children:"How to Play"})}),Object(k.jsx)("div",{className:"clearfix"})]}),Object(k.jsx)("main",{className:"instructions-main",children:Object(k.jsxs)("section",{className:"instructions-section",children:[Object(k.jsx)("h2",{children:"Objective"}),Object(k.jsxs)("p",{children:["The goal for any level in ",Object(k.jsx)("em",{children:" Color Coords "})," is to color the puzzle grid so that it matches the grid shown in the target window. In order to color the puzzle grid, you must move of the",Object(k.jsx)("em",{className:"highlight",children:" player piece "})," across the grid. As you move the player piece across the grid, you may land on tiles that contain an",Object(k.jsx)("em",{className:"highlight",children:" item"}),". Find the solution to each puzzle by maneuvering the player piece and utilizing any items placed on the grid."]}),Object(k.jsx)("h2",{children:"Gameplay"}),Object(k.jsx)("h3",{children:"Player Piece"}),Object(k.jsxs)("p",{children:["The ",Object(k.jsx)("em",{children:" player piece "})," moves across the board, one tile at a time. It can move either ",Object(k.jsx)("em",{className:"highlight",children:" up, down, left or right"}),". At the start of the game, the piece starts in an",Object(k.jsx)("em",{className:"highlight",children:" uncolored state"}),". While in this state, the player piece does not affect the puzzle grid in any way. With the help of items, you can change the state of the player piece to color the grid."]}),Object(k.jsx)("h3",{children:"Items"}),Object(k.jsx)("p",{children:"Items are used to alter the puzzle grid and/or the player piece."}),Object(k.jsx)("div",{className:"table-container",children:Object(k.jsxs)("table",{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Description"})]})}),Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Color Swatch"}),Object(k.jsxs)("td",{children:["This item changes the color of the player piece to the same color as the swatch. While the player piece is colored,",Object(k.jsx)("em",{className:"highlight",children:" it will color any tile that it lands on"}),"."]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Dark Swatch"}),Object(k.jsxs)("td",{children:["This item turns the player piece black. While the player piece is in this state, it will",Object(k.jsx)("em",{className:"highlight",children:" erase color "}),"from any grid tile it lands on."]})]})]})]})}),Object(k.jsx)("h3",{children:"Tiles"}),Object(k.jsxs)("p",{children:["The puzzle grid is made up of ",Object(k.jsx)("em",{children:" tiles"}),". There are several different types of tiles, each with its own properties."]}),Object(k.jsx)("div",{className:"table-container",children:Object(k.jsxs)("table",{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Type"}),Object(k.jsx)("th",{children:"Description"})]})}),Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Default Tile"}),Object(k.jsxs)("td",{children:["Default tiles start off white and",Object(k.jsx)("em",{className:"highlight",children:" can be colored "})," by the player piece if they happen to land on the tile while in a colored state."]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Dark Tile"}),Object(k.jsxs)("td",{children:["Dark tiles are black and ",Object(k.jsx)("em",{className:"highlight",children:" cannot be changed to a different color "})," even if the player piece lands on it while in a colored state."]})]})]})]})}),Object(k.jsx)("h2",{children:"Stars"}),Object(k.jsxs)("p",{children:["After completing a level, you will be rewarded with up to three stars. You will earn at least one star for each level completed. To earn two or three stars on a level, you must complete the level within a certain amount of moves. ",Object(k.jsx)("em",{className:"highlight",children:" In general, the fewer moves you use to complete a level, the more stars you will receive. "})," Check the",Object(k.jsx)("em",{children:" level select "})," screen for the required number of moves required to each additional stars for each level."]}),Object(k.jsx)("h2",{children:"Controls"}),Object(k.jsx)("div",{className:"table-container",children:Object(k.jsxs)("table",{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Action"}),Object(k.jsx)("th",{children:"Keyboard"}),Object(k.jsx)("th",{children:"Mouse"})]})}),Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Player Piece Movement"}),Object(k.jsx)("td",{children:"Arrow keys"}),Object(k.jsx)("td",{children:"Left click on tile"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Toggle Target"}),Object(k.jsx)("td",{children:"Q"}),Object(k.jsx)("td",{children:"-"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Undo"}),Object(k.jsx)("td",{children:"Z"}),Object(k.jsx)("td",{children:"-"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Redo"}),Object(k.jsx)("td",{children:"Y"}),Object(k.jsx)("td",{children:"-"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Restart"}),Object(k.jsx)("td",{children:"R"}),Object(k.jsx)("td",{children:"-"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Reposition Grid/Target"}),Object(k.jsx)("td",{children:"-"}),Object(k.jsx)("td",{children:"Left click (drag)"})]})]})]})}),Object(k.jsx)("h2",{children:"Miscellaneous"}),Object(k.jsx)("ul",{children:Object(k.jsxs)("li",{children:["If you want to adjust the layout of the game, you can",Object(k.jsx)("em",{className:"highlight",children:" reposition "})," the puzzle grid and/or the target window by dragging the screen with your cursor. For the target, you can reposition both the target window, as well as the target grid within the window. You can also",Object(k.jsx)("em",{className:"highlight",children:" zoom in or out "})," using the zoom buttons in the quick menus. If you want to reset back to the default layout, go into the game menu and select",Object(k.jsx)("em",{className:"highlight",children:" Reset Layout"}),"."]})})]})})]})}var Fe=function(){function e(t,n,i,o){Object(I.a)(this,e),this.row=void 0,this.col=void 0,this.grid=void 0,this.color=void 0,this.row=t,this.col=n,this.grid=i,this.color=null!==o&&void 0!==o?o:U.DEFAULT}return Object(G.a)(e,[{key:"move",value:function(e){if(e.currentDirection){var t,n=K[e.currentDirection],i=n.rowOffset,o=n.colOffset,s=this.row+i,r=this.col+o,l=this.grid.getCellAt(s,r);if(l)return this.row=s,this.col=r,l.item&&(t=l.item.updatePlayerColor())&&(this.color=t),{moved:!0,newRow:this.row,newCol:this.col,newColor:this.color,directionMoved:e.currentDirection,gridCellMovedTo:l}}return{moved:!1,newRow:this.row,newCol:this.col,newColor:this.color}}}]),e}(),Ke=function e(t,n,i,o){Object(I.a)(this,e),this.grid=void 0,this.playerRow=void 0,this.playerCol=void 0,this.playerColor=void 0,this.previous=null,this.next=null,this.grid=t,this.playerRow=n,this.playerCol=i,this.playerColor=o},Ye=function(){function e(){Object(I.a)(this,e),this.start=null,this.end=null,this._size=0}return Object(G.a)(e,[{key:"size",get:function(){return this._size}},{key:"push",value:function(e,t,n,i){var o=new Ke(e,t,n,i);return this._size+=1,this.end?(o.previous=this.end,this.end.next=o,this.end=o):this.start=this.end=o,o}},{key:"pop",value:function(){if(!this.end)return null;if(this.start===this.end){var e=this.end;return this.start=this.end=null,this._size-=1,e}var t=this.end;return this.end=this.end.previous,this.end&&(this.end.next=null),this._size-=1,t}},{key:"unshift",value:function(e,t,n,i){var o=new Ke(e,t,n,i);return this._size+=1,this.start?(o.next=this.start,this.start.previous=o,this.start=o):this.start=this.end=o,o}},{key:"shift",value:function(){if(!this.start)return null;if(this.start===this.end){var e=this.start;return this.start=this.end=null,this._size-=1,e}var t=this.start;return this.start=this.start.next,this.start&&(this.start.previous=null),this._size-=1,t}},{key:"clear",value:function(){this.start=null,this.end=null,this._size=0}}]),e}(),Be=function(){function e(t,n,i,o){Object(I.a)(this,e),this.undoHistory=void 0,this.redoHistory=void 0,this.currentState=void 0,this.undoHistory=new Ye,this.redoHistory=new Ye,this.currentState={grid:t,playerRow:n,playerCol:i,playerColor:o}}return Object(G.a)(e,[{key:"size",get:function(){return this.undoHistory.size+this.redoHistory.size}},{key:"push",value:function(e,t,n,i){for(this.undoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),this.currentState.grid=e,this.currentState.playerRow=t,this.currentState.playerCol=n,this.currentState.playerColor=i,this.redoHistory.clear();this.size>60;)this.undoHistory.shift()}},{key:"undo",value:function(){if(!this.canUndo())return null;var e=this.undoHistory.pop();return this.redoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),e?(this.currentState.grid=e.grid,this.currentState.playerRow=e.playerRow,this.currentState.playerCol=e.playerCol,this.currentState.playerColor=e.playerColor,{grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor}):null}},{key:"redo",value:function(){if(!this.canRedo())return null;var e=this.redoHistory.pop();return this.undoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),e?(this.currentState.grid=e.grid,this.currentState.playerRow=e.playerRow,this.currentState.playerCol=e.playerCol,this.currentState.playerColor=e.playerColor,{grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor}):null}},{key:"canUndo",value:function(){return this.undoHistory.size>0}},{key:"canRedo",value:function(){return this.redoHistory.size>0}}]),e}(),Ze=function(){function e(t,n,i,o){Object(I.a)(this,e),this.row=void 0,this.col=void 0,this.animationType=void 0,this.color=void 0,this.row=t,this.col=n,this.animationType=i,this.color=o}return Object(G.a)(e,[{key:"isPlayerAnimation",value:function(){return this.animationType===A.PLAYER}},{key:"isTileAnimation",value:function(){return this.animationType===A.TILE}}]),e}(),Qe=function(e){Object(J.a)(n,e);var t=Object(V.a)(n);function n(e,i,o){return Object(I.a)(this,n),t.call(this,e,i,A.PLAYER,o)}return n}(Ze),Xe=function(e){Object(J.a)(n,e);var t=Object(V.a)(n);function n(e,i,o){return Object(I.a)(this,n),t.call(this,e,i,A.TILE,o)}return n}(Ze),_e=(n(96),function(e){Object(J.a)(n,e);var t=Object(V.a)(n);function n(e){var i;return Object(I.a)(this,n),(i=t.call(this,e)).movementKeyFnMap=void 0,i.utilKeyFnMap=void 0,i.keyPressFlagMap=void 0,i.gridAnimationQueue=void 0,i.gameContainerRef=void 0,i.gameHistory=void 0,i.state={grid:new X(e.gridConfig),playerRow:e.playerRow,playerCol:e.playerCol,playerColor:U.DEFAULT,showSolution:!1,movesTaken:0,gameStarted:!1,gameOver:!1,gameWon:!1,starsWon:0,isPlayerMoving:!1,isMenuOpen:!1,areSettingsOpened:!1,areInstructionsOpened:!1,shouldCancelTilePress:!1,shouldResetLayout:!1,tileSizeIndex:6},i.gridAnimationQueue=new Oe.Queue,i.gameContainerRef=o.a.createRef(),i.gameHistory=new Be(i.state.grid,i.state.playerRow,i.state.playerCol,i.state.playerColor),i.onKeyDown=i.onKeyDown.bind(Object(ve.a)(i)),i.onKeyUp=i.onKeyUp.bind(Object(ve.a)(i)),i.resetFlags=i.resetFlags.bind(Object(ve.a)(i)),i.onPlayerAnimationEnd=i.onPlayerAnimationEnd.bind(Object(ve.a)(i)),i.restartGame=i.restartGame.bind(Object(ve.a)(i)),i.inGameRestart=i.inGameRestart.bind(Object(ve.a)(i)),i.setMenuOpen=i.setMenuOpen.bind(Object(ve.a)(i)),i.undo=i.undo.bind(Object(ve.a)(i)),i.redo=i.redo.bind(Object(ve.a)(i)),i.zoomIn=i.zoomIn.bind(Object(ve.a)(i)),i.zoomOut=i.zoomOut.bind(Object(ve.a)(i)),i.showSettings=i.showSettings.bind(Object(ve.a)(i)),i.showInstructions=i.showInstructions.bind(Object(ve.a)(i)),i.hideOtherWindows=i.hideOtherWindows.bind(Object(ve.a)(i)),i.onTilePress=i.onTilePress.bind(Object(ve.a)(i)),i.setShouldCancelTilePress=i.setShouldCancelTilePress.bind(Object(ve.a)(i)),i.onGridSizeChange=i.onGridSizeChange.bind(Object(ve.a)(i)),i.resetLayout=i.resetLayout.bind(Object(ve.a)(i)),i.movementKeyFnMap={ArrowUp:i.movePlayerByKeyDown.bind(Object(ve.a)(i),z.UP),ArrowDown:i.movePlayerByKeyDown.bind(Object(ve.a)(i),z.DOWN),ArrowLeft:i.movePlayerByKeyDown.bind(Object(ve.a)(i),z.LEFT),ArrowRight:i.movePlayerByKeyDown.bind(Object(ve.a)(i),z.RIGHT)},i.utilKeyFnMap={r:i.inGameRestart,y:i.redo,z:i.undo},i.keyPressFlagMap={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1},i}return Object(G.a)(n,[{key:"onKeyDown",value:function(e){"Escape"===e.key||"Esc"===e.key?(e.preventDefault(),this.setMenuOpen(!this.state.isMenuOpen)):this.state.isMenuOpen?this.handleMenuKeyDown(e):this.movementKeyFnMap[e.key]?(e.preventDefault(),this.keyPressFlagMap[e.key]||(this.keyPressFlagMap[e.key]=!0,this.movementKeyFnMap[e.key](e))):this.utilKeyFnMap[e.key]?(e.preventDefault(),this.utilKeyFnMap[e.key]()):"q"===e.key.toLowerCase()&&(e.preventDefault(),this.setState({showSolution:!0}))}},{key:"handleMenuKeyDown",value:function(e){var t=document.activeElement,n=!!t&&t.classList.contains("hamburger-react"),i=!!t&&t.classList.contains("game-menu-btn"),o=!!t&&t.classList.contains("game-menu-first"),s=!!t&&t.classList.contains("game-menu-last");if("ArrowDown"===e.key)if(e.preventDefault(),!t||s||!n&&!i){var r=document.querySelector(".hamburger-react");r&&r.focus()}else if(n){var l=document.querySelector(".game-menu-btn");l&&l.focus()}else{var a=t.nextSibling;a&&a.focus()}else if("ArrowUp"===e.key)if(e.preventDefault(),t&&!n&&i)if(o){var c=document.querySelector(".hamburger-react");c&&c.focus()}else{var u=t.previousSibling;u&&u.focus()}else{var h=document.querySelector(".game-menu-last");h&&h.focus()}}},{key:"onKeyUp",value:function(e){this.keyPressFlagMap[e.key]?(e.preventDefault(),this.keyPressFlagMap[e.key]=!1):"q"===e.key.toLowerCase()&&(e.preventDefault(),this.setState({showSolution:!1}))}},{key:"resetFlags",value:function(){for(var e in this.keyPressFlagMap)this.keyPressFlagMap[e]=!1;this.setState({showSolution:!1})}},{key:"makeMove",value:function(e,t,n){var i=t.move(n),o=0;if(!i.moved)return o;for(;i.moved;){o+=1;var s=i,r=s.newRow,l=s.newCol,a=s.newColor,c=s.gridCellMovedTo,u=c&&c.updateColor(a);u&&this.gridAnimationQueue.enqueue(new Xe(r,l,u)),this.gridAnimationQueue.enqueue(new Qe(r,l,a)),n={currentDirection:null,prevDirection:n.currentDirection},i=t.move(n)}return this.gameHistory.push(e,t.row,t.col,t.color),o}},{key:"isAnimationInProgress",value:function(){return this.gridAnimationQueue.size()>0||this.state.isPlayerMoving}},{key:"isGameActive",value:function(){return!this.state.gameOver&&!this.state.isMenuOpen}},{key:"movePlayerByKeyDown",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var i,o,s,r,l,c,u,h,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(!this.keyPressFlagMap[n.key]||!this.isGameActive()){e.next=20;break}if(!this.isAnimationInProgress()&&!i){e.next=7;break}return i=!1,e.next=6,xe(0);case 6:return e.abrupt("continue",1);case 7:if(o=this.state,s=o.grid,r=o.playerRow,l=o.playerCol,c=o.playerColor,u=Object(H.cloneDeep)(s),h=new Fe(r,l,u,c),d={currentDirection:t,prevDirection:null},0!==this.makeMove(u,h,d)){e.next=16;break}return e.next=15,xe(0);case 15:return e.abrupt("continue",1);case 16:this.startNextAnimation(),i=!0,e.next=1;break;case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTilePress",value:function(e,t){var n=this.state,i=n.grid,o=n.playerRow,s=n.playerCol,r=n.playerColor,l=n.shouldCancelTilePress;if(!(e===o&&t===s||e!==o&&t!==s||this.isAnimationInProgress()||l)){var a=null;e<o?a=z.UP:e>o?a=z.DOWN:t<s?a=z.LEFT:t>s&&(a=z.RIGHT);for(var c=Math.max(Math.abs(o-e),Math.abs(s-t)),u=Object(H.cloneDeep)(i),h=new Fe(o,s,u,r),d=0;d<c;d+=1){var j={currentDirection:a,prevDirection:null};if(1!==this.makeMove(u,h,j))break;u=Object(H.cloneDeep)(u),h.grid=u}this.startNextAnimation()}}},{key:"onGridSizeChange",value:function(e,t){this.setState({gridWidth:e,gridHeight:t})}},{key:"startNextAnimation",value:function(){for(var e=this,t=function(){var t=e.gridAnimationQueue.dequeue();if(t.isPlayerAnimation())return e.setState({playerRow:t.row,playerCol:t.col,playerColor:t.color,isPlayerMoving:!0,gameStarted:!0,movesTaken:e.state.movesTaken+1}),"break";e.setState({grid:Object(d.a)(e.state.grid,(function(e){var n=e.getCellAt(t.row,t.col);n&&(n.color=t.color)}))})};this.gridAnimationQueue.size()>0;){if("break"===t())break}}},{key:"onPlayerAnimationEnd",value:function(){this.setState({isPlayerMoving:!1}),this.gridAnimationQueue.size()>0?this.startNextAnimation():this.state.grid.isGridSolved()&&this.setState({gameOver:!0,gameWon:!0,starsWon:this.props.handleStarUpdate(this.props.levelNumber,this.state.movesTaken)})}},{key:"restartGame",value:function(){var e=new X(this.props.gridConfig);this.setState({grid:e,playerRow:this.props.playerRow,playerCol:this.props.playerCol,playerColor:U.DEFAULT,movesTaken:0,gameStarted:!1,gameOver:!1,gameWon:!1,starsWon:0,isPlayerMoving:!1,showSolution:!1,isMenuOpen:!1,shouldCancelTilePress:!1,shouldResetLayout:!1}),this.gameHistory=new Be(e,this.props.playerRow,this.props.playerCol,U.DEFAULT),this.gridAnimationQueue.clear(),this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"inGameRestart",value:function(){this.canAlterGameState()&&this.restartGame()}},{key:"canAlterGameState",value:function(){return!this.state.isPlayerMoving&&this.gridAnimationQueue.size()<=0&&this.isGameActive()}},{key:"undo",value:function(){if(this.canAlterGameState()){var e=this.gameHistory.undo();e&&this.setState({grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor,movesTaken:this.state.movesTaken-1})}}},{key:"redo",value:function(){if(this.canAlterGameState()){var e=this.gameHistory.redo();e&&this.setState({grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor,movesTaken:this.state.movesTaken+1})}}},{key:"canZoomIn",value:function(){return this.state.tileSizeIndex<F.length-1}},{key:"canZoomOut",value:function(){return this.state.tileSizeIndex>0}},{key:"zoomIn",value:function(){this.canZoomIn()&&this.isGameActive()&&this.setState({tileSizeIndex:this.state.tileSizeIndex+1})}},{key:"zoomOut",value:function(){this.canZoomOut()&&this.isGameActive()&&this.setState({tileSizeIndex:this.state.tileSizeIndex-1})}},{key:"setMenuOpen",value:function(e){this.setState({isMenuOpen:e}),this.resetFlags(),e||this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"showSettings",value:function(){this.setState({areSettingsOpened:!0,areInstructionsOpened:!1})}},{key:"showInstructions",value:function(){this.setState({areSettingsOpened:!1,areInstructionsOpened:!0})}},{key:"resetLayout",value:function(){var e=this;this.setState({shouldResetLayout:!0,tileSizeIndex:6},Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(0);case 2:e.setState({shouldResetLayout:!1});case 3:case"end":return t.stop()}}),t)}))))}},{key:"hideOtherWindows",value:function(){this.setState({areSettingsOpened:!1,areInstructionsOpened:!1,isMenuOpen:!1})}},{key:"componentDidMount",value:function(){this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"componentDidUpdate",value:function(e){this.props.levelNumber!==e.levelNumber&&(this.restartGame(),this.setState({tileSizeIndex:6}))}},{key:"setShouldCancelTilePress",value:function(e){this.setState({shouldCancelTilePress:e})}},{key:"render",value:function(){var e,t=this.state,n=t.grid,i=t.playerRow,o=t.playerCol,s=t.playerColor,r=t.showSolution,l=t.isPlayerMoving,a=t.movesTaken,c=t.gameStarted,u=t.gameWon,h=t.gameOver,d=t.isMenuOpen,j=t.areSettingsOpened,b=t.areInstructionsOpened,v=t.gridWidth,O=t.gridHeight,m=t.shouldResetLayout,p="game";p+=u?" game-won":"",p+=c?"":" game-pending";var f=j||b?{display:"none"}:{},x=u?Object(k.jsx)(Ee,{levelNumber:this.props.levelNumber,stars:this.state.starsWon,restartHandler:this.restartGame,starsScoredOnLevel:this.props.starsScoredOnLevel,starsToUnlockLevel:this.props.starsToUnlockLevel}):null,y=null!==(e=F[this.state.tileSizeIndex])&&void 0!==e?e:48;return Object(k.jsxs)("div",{children:[Object(k.jsx)(B.Provider,{value:y,children:Object(k.jsxs)("div",{className:p,ref:this.gameContainerRef,tabIndex:1,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:this.resetFlags,onBlur:this.resetFlags,style:f,children:[Object(k.jsx)(Re,{movesTaken:a,levelNumber:this.props.levelNumber,levelName:this.props.levelName,isMenuOpen:d,setMenuOpen:this.setMenuOpen,showSettings:this.showSettings,showInstructions:this.showInstructions,resetLayout:this.resetLayout}),Object(k.jsx)(Ie,{grid:n,playerRow:i,playerCol:o,levelNumber:this.props.levelNumber,gridWidth:v,gridHeight:O,appHeight:this.props.appHeight,shouldResetLayout:m,gameOver:h,isMenuOpen:d}),Object(k.jsx)(He,{canUndo:this.gameHistory.canUndo(),canRedo:this.gameHistory.canRedo(),canZoomIn:this.canZoomIn(),canZoomOut:this.canZoomOut(),restartHandler:this.inGameRestart,undoHandler:this.undo,redoHandler:this.redo,zoomInHandler:this.zoomIn,zoomOutHandler:this.zoomOut}),Object(k.jsx)(ge,{grid:n,playerRow:i,playerCol:o,playerColor:s,levelNumber:this.props.levelNumber,showSolution:r,isPlayerMoving:l,onPlayerAnimationEnd:this.onPlayerAnimationEnd,onTilePress:this.onTilePress,dragHandler:this.setShouldCancelTilePress,onGridSizeChange:this.onGridSizeChange,shouldResetLayout:m}),x]})}),Object(k.jsx)(We,{visible:j,onGoBack:this.hideOtherWindows}),Object(k.jsx)(qe,{visible:b,onGoBack:this.hideOtherWindows})]})}}]),n}(o.a.Component));function Je(e){var t=Object(O.g)().levelNumber,n=parseInt(t);if(isNaN(n)||!le[n-1]||e.starCount<le[n-1].requiredToUnlock)return Object(k.jsx)(O.a,{to:"/level-select"});var i=le[n-1],o=i.gridConfig,s=i.playerRow,r=i.playerCol,l=i.levelName;return Object(k.jsx)(_e,{gridConfig:o,playerRow:s,playerCol:r,levelName:l,levelNumber:n,handleStarUpdate:e.handleStarUpdate,starsScoredOnLevel:e.starsScoredOnLevel,starsToUnlockLevel:e.starsToUnlockLevel,appHeight:e.appHeight})}n(97);var Ve=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"first-letter",children:"C"}),"OLOR\xa0",Object(k.jsx)("span",{className:"first-letter",children:"C"}),"OORDS"]});function $e(e){for(var t=Object(i.useState)(300*Math.random()),n=Object(u.a)(t,1)[0],o=Object(i.useState)(e.playAnimation),s=Object(u.a)(o,2),r=s[0],l=s[1],a=Object(i.useState)(!1),c=Object(u.a)(a,2),h=c[0],d=c[1],j=Object(i.useState)(!1),b=Object(u.a)(j,2),O=b[0],m=b[1],p=function(){d(!1),m(!1),l(!1)},f="home-container ".concat(r?"":" home-anim-off"),x=[],y=[],g=0;g<6;g+=1){var C="title-colored-".concat(g+1),w="title-box title-colored ".concat(C);x.push(Object(k.jsx)("div",{className:w,children:Object(k.jsx)("span",{className:"title-text","aria-hidden":!0,children:Ve})},C))}for(var T=0;T<4;T+=1)for(var R=0;R<48;R+=1){var E="bg-layer-".concat(T+1,"-").concat(R+1),N="bg-layer bg-layer-".concat(R+1);y.push(Object(k.jsx)("div",{className:N},E))}var L={animationDelay:"-".concat(n,"s")},S={display:h||O?"none":"block"};return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:f,style:S,children:[Object(k.jsx)("div",{className:"home-bg",children:Object(k.jsx)("div",{className:"home-bg-gradient",style:L,children:y})}),Object(k.jsxs)("div",{className:"title-container",children:[Object(k.jsx)("div",{className:"title-box title-main",children:Object(k.jsx)("h1",{className:"title-text","aria-label":"Color Coords",children:Ve})}),x]}),Object(k.jsxs)("nav",{className:"home-nav",children:[Object(k.jsx)(v.b,{to:"/level-select",className:"home-nav-btn-1",children:"Level Select"}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:"home-nav-btn-2",onClick:function(e){e.preventDefault(),d(!1),m(!0)},children:"How to Play"}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:"home-nav-btn-3",onClick:function(e){e.preventDefault(),d(!0),m(!1)},children:"Settings"})]})]}),Object(k.jsx)(We,{visible:h,onGoBack:p,onEraseData:e.onEraseData}),Object(k.jsx)(qe,{visible:O,onGoBack:p})]})}var et=n(31),tt=n(34);function nt(){var e,t={},n=Object(et.a)(le);try{for(n.s();!(e=n.n()).done;){t[e.value.id]={solved:!1,moves:0,stars:0}}}catch(i){n.e(i)}finally{n.f()}return t}function it(e,t,n){var i=1;return e<=t?i=3:e<=n&&(i=2),i}var ot="cc",st="scores";function rt(e){e.createObjectStore(st,{keyPath:"id"})}function lt(){return(lt=Object(c.a)(a.a.mark((function e(){var t,n,i,o,s,r,l,c,u,h,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.a)(ot,1,{upgrade:rt});case 2:return t=e.sent,n=t.transaction(st,"readonly"),i=n.objectStore(st),e.next=7,i.getAll();case 7:return o=e.sent,e.next=10,n.done;case 10:t.close(),s=nt(),r={},l=Object(et.a)(le);try{for(l.s();!(c=l.n()).done;)u=c.value,r[u.id]=u}catch(a){l.e(a)}finally{l.f()}h=Object(et.a)(o);try{for(h.s();!(d=h.n()).done;)j=d.value,!isNaN(null===j||void 0===j?void 0:j.moves)&&s[null===j||void 0===j?void 0:j.id]&&(s[j.id].solved=!0,s[j.id].moves=parseInt(j.moves,10),s[j.id].stars=it(s[j.id].moves,r[j.id].starRequirement3,r[j.id].starRequirement2))}catch(a){h.e(a)}finally{h.f()}return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(c.a)(a.a.mark((function e(t,n){var i,o,s,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.a)(ot,1,{upgrade:rt});case 2:return i=e.sent,o=i.transaction(st,"readwrite"),s=o.objectStore(st),e.next=7,s.get(t);case 7:if(!(!(r=e.sent)||isNaN(null===r||void 0===r?void 0:r.moves)||n<r.moves)){e.next=11;break}return e.next=11,s.put({id:t,moves:n});case 11:return e.next=13,o.done;case 13:i.close();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return(ct=Object(c.a)(a.a.mark((function e(){var t,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.a)(ot,1,{upgrade:rt});case 2:return t=e.sent,n=t.transaction(st,"readwrite"),i=n.objectStore(st),e.next=7,i.clear();case 7:return e.next=9,n.done;case 9:t.close();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(98),n(99);function ut(){var e=Object(i.useState)(0),t=Object(u.a)(e,2),n=t[0],o=t[1],s=Object(i.useState)(!0),r=Object(u.a)(s,2),l=r[0],j=r[1],p=Object(i.useState)(!1),f=Object(u.a)(p,2),x=f[0],y=f[1],g=Object(i.useState)(!1),C=Object(u.a)(g,2),w=C[0],T=C[1],R=Object(i.useState)(!1),E=Object(u.a)(R,2),N=E[0],L=E[1],S=Object(i.useState)({}),P=Object(u.a)(S,2),D=P[0],U=P[1],A=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:1}),z=A.height,M=A.ref,I=function(e){var t,i,o,s=le[e-1];return s&&((null===(t=D[s.id])||void 0===t?void 0:t.stars)>0||n>=s.requiredToUnlock)?null!==(i=null===(o=D[s.id])||void 0===o?void 0:o.stars)&&void 0!==i?i:0:-1},G=function(e){if(I(e)>=0)return 0;var t=le[e-1];return t?t.requiredToUnlock-n:-1};return Object(i.useEffect)((function(){var e=ht();e&&e.classList.add("loader-bar-fill-state-1");var t=function(){T(!0)};b.a.load({custom:{families:["FredokaOne","Nunito:n4,n6,n7,n8","NunitoSans:n4,n6,n7,i4,i7"]},timeout:5e3,active:t,inactive:t}),function(){return lt.apply(this,arguments)}().then((function(e){U(e);var t=0;for(var n in e)t+=e[n].stars;o(t),L(!0)})).catch((function(){U(nt()),L(!0),m.b.error("Could not retrieve saved data. Please refresh and try again.")}))}),[]),Object(i.useEffect)((function(){var e=1+(w?1:0)+(N?1:0),t=ht();t&&t.classList.add("loader-bar-fill-state-".concat(e)),w&&N&&!x&&function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(500);case 2:return(t=document.getElementById("loading-text"))&&(t.textContent="Let's go!"),t&&t.classList.remove("loading-text-anim-on"),(n=document.getElementById("loading-anim-window"))&&n.classList.add("loading-finished"),e.next=9,xe(2e3);case 9:return n&&n.remove(),y(!0),e.next=13,xe(0);case 13:j(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[w,N]),x?Object(k.jsxs)("div",{className:"app",ref:M,children:[Object(k.jsx)(m.a,{}),Object(k.jsx)(v.a,{children:Object(k.jsxs)(O.d,{children:[Object(k.jsx)(O.b,{path:"/game/:levelNumber",children:Object(k.jsx)(Je,{starCount:n,handleStarUpdate:function(e,t){var i,s,r=le[e-1];if(!r)return 0;var l=it(t,r.starRequirement3,r.starRequirement2);if(t<(null===(i=D[r.id])||void 0===i?void 0:i.moves)||!1===(null===(s=D[r.id])||void 0===s?void 0:s.solved)){var a,c,u=null!==(a=null===(c=D[r.id])||void 0===c?void 0:c.stars)&&void 0!==a?a:0,h=Object(d.a)(D,(function(e){e[r.id].solved=!0,e[r.id].moves=t,e[r.id].stars=l}));U(h),o(n+(l-u))}return function(e,t){return at.apply(this,arguments)}(r.id,t).catch((function(){m.b.error("Unable to save data.")})),l},starsScoredOnLevel:I,starsToUnlockLevel:G,appHeight:z})}),Object(k.jsx)(O.b,{path:"/level-select",children:Object(k.jsx)(be,{starCount:n,levelScoreMap:D,starsScoredOnLevel:I,starsToUnlockLevel:G})}),Object(k.jsx)(O.b,{path:"*",children:Object(k.jsx)($e,{playAnimation:l,onEraseData:function(){var e=Object(d.a)(D,(function(e){for(var t in e)e[t].solved=!1,e[t].moves=0,e[t].stars=0}));U(e),o(0),function(){return ct.apply(this,arguments)}().then((function(){m.b.success("Save data has been erased.")})).catch((function(){m.b.error("Unable to erase data.")}))}})})]})})]}):null}function ht(){return document.getElementById("loader-bar-fill")}n(100),n(101);r.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(ut,{})}),document.getElementById("root"))},62:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.375227e6.chunk.js.map