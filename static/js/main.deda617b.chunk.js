(this["webpackJsonpcolor-coords-react"]=this["webpackJsonpcolor-coords-react"]||[]).push([[0],{101:function(e,t,o){},103:function(e,t,o){"use strict";o.r(t);var i=o(1),n=o.n(i),s=o(25),l=o.n(s),r=o(7),a=o.n(r),c=o(13),u=o(2),h=o(22),d=o(19),j=o(47),b=o.n(j),v=o(14),O=o(8),m=o(29),p=o(4),f=o(5),x=["title","titleId"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},y.apply(this,arguments)}function g(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function C(e,t){var o=e.title,n=e.titleId,s=g(e,x);return i.createElement("svg",y({width:31.031,height:29.924,viewBox:"0 0 31.031214 29.924433",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),o?i.createElement("title",{id:n},o):null,i.createElement("g",{transform:"translate(-14.022 -18.173)","data-name":"Layer 21"},i.createElement("path",{d:"m43.075 32.997a3.38 3.38 0 0 0 -1.87 -5.75l-5.25-0.79a1.42 1.42 0 0 1 -1 -0.75l-2.42-4.74a3.37 3.37 0 0 0 -6 0l-2.39 4.74a1.42 1.42 0 0 1 -1 0.75l-5.25 0.79a3.38 3.38 0 0 0 -1.9 5.75l3.78 3.72a1.4 1.4 0 0 1 0.4 1.21l-0.87 5.23a3.35 3.35 0 0 0 1.34 3.29 3.4 3.4 0 0 0 2 0.65 3.37 3.37 0 0 0 1.56 -0.39l4.7-2.44a1.38 1.38 0 0 1 1.28 0l4.7 2.44a3.37 3.37 0 0 0 4.89 -3.55l-0.87-5.23a1.4 1.4 0 0 1 0.4 -1.21z",fill:"#f7c761",stroke:"#704728",strokeWidth:2,style:{paintOrder:"normal"}})))}var w=i.forwardRef(C),T=(o.p,["title","titleId"]);function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},E.apply(this,arguments)}function R(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function N(e,t){var o=e.title,n=e.titleId,s=R(e,T);return i.createElement("svg",E({width:31.031,height:29.924,viewBox:"0 0 31.031214 29.924433",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),o?i.createElement("title",{id:n},o):null,i.createElement("g",{transform:"translate(-14.022 -18.173)","data-name":"Layer 21"},i.createElement("path",{d:"m43.075 32.997a3.38 3.38 0 0 0 -1.87 -5.75l-5.25-0.79a1.42 1.42 0 0 1 -1 -0.75l-2.42-4.74a3.37 3.37 0 0 0 -6 0l-2.39 4.74a1.42 1.42 0 0 1 -1 0.75l-5.25 0.79a3.38 3.38 0 0 0 -1.9 5.75l3.78 3.72a1.4 1.4 0 0 1 0.4 1.21l-0.87 5.23a3.35 3.35 0 0 0 1.34 3.29 3.4 3.4 0 0 0 2 0.65 3.37 3.37 0 0 0 1.56 -0.39l4.7-2.44a1.38 1.38 0 0 1 1.28 0l4.7 2.44a3.37 3.37 0 0 0 4.89 -3.55l-0.87-5.23a1.4 1.4 0 0 1 0.4 -1.21z",fill:"#333",stroke:"#704728",strokeWidth:2,style:{paintOrder:"normal"}})))}var k=i.forwardRef(N),L=(o.p,o(0));function S(e){var t,o=e.size?{height:"".concat(e.size,"px"),width:"".concat(e.size,"px")}:{},i=null!==(t=e.className)&&void 0!==t?t:"";return e.filled?Object(L.jsx)(w,{className:i,style:o}):Object(L.jsx)(k,{className:i,style:o})}o(62);function P(e){var t="\xd7 ".concat(e.starCount);return Object(L.jsxs)("header",{className:"top-bar level-select-top-bar",children:[Object(L.jsx)(v.b,{to:"/",className:"top-bar-text back-btn","aria-label":"Go back",children:Object(L.jsx)(p.a,{icon:f.a})}),Object(L.jsx)("div",{className:"level-select-title",children:Object(L.jsx)("h1",{className:"top-bar-text",children:"Level Select"})}),Object(L.jsx)("div",{className:"level-select-stars",children:Object(L.jsxs)("span",{className:"top-bar-text",children:[Object(L.jsx)(S,{filled:!0,size:24}),t]})}),Object(L.jsx)("div",{className:"clearfix"})]})}var D,I,A,U,z,M=o(40),G=o(9),W=o(12),H=o(28),q=o(18),F=300,Y=[12,16,20,24,32,40,48,56,64,72,80,88,96];!function(e){e.BLUE="blue",e.DARK="dark",e.DEFAULT="default",e.GREEN="green",e.ORANGE="orange",e.PURPLE="purple",e.RED="red",e.YELLOW="yellow"}(I||(I={})),function(e){e.PLAYER="player",e.TILE="tile"}(A||(A={})),function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(U||(U={})),function(e){e.DEFAULT="default",e.TO_ICE="to-ice",e.FROM_ICE="from-ice",e.ON_ICE="on-ice"}(z||(z={}));var B=(D={},Object(q.a)(D,U.UP,{rowOffset:-1,colOffset:0}),Object(q.a)(D,U.DOWN,{rowOffset:1,colOffset:0}),Object(q.a)(D,U.LEFT,{rowOffset:0,colOffset:-1}),Object(q.a)(D,U.RIGHT,{rowOffset:0,colOffset:1}),D),K=n.a.createContext({x:0,y:0}),Z=n.a.createContext(48);o(66);function Q(e){var t,o,n,s,l,r,a=Object(i.useContext)(K),c=Object(i.useContext)(Z),u=null!==(t=e.color)&&void 0!==t?t:I.DEFAULT,h="tile-front bg-".concat(u," ").concat(e.alt?"alt":""),d=null!==(o=e.solution)&&void 0!==o?o:I.DEFAULT,j="tile-solution bg-".concat(d," ").concat(e.alt?"alt":""),b={opacity:e.showSolution?"1":"0"},v={height:"".concat(c,"px"),left:"".concat(e.col*c+a.x,"px"),top:"".concat(e.row*c+a.y,"px"),width:"".concat(c,"px")},O=null;if(n=e.row,s=e.col,l=e.playerRow,r=e.playerCol,void 0!==l&&void 0!==r&&(n===l&&s!==r||n!==l&&s===r)&&e.onTilePress){var m="tile-hover hover-".concat(u),p={borderWidth:"".concat(Math.ceil(c/12),"px")};O=Object(L.jsx)("div",{className:m,onClick:function(){e.onTilePress&&e.onTilePress(e.row,e.col)},style:p})}var f=e.ice?Object(L.jsx)("div",{className:"tile-ice"}):null,x={borderRadius:"".concat(Math.ceil(c/12),"px")};return Object(L.jsxs)("div",{className:"tile",style:v,children:[O,f,Object(L.jsx)("div",{className:j,style:b}),Object(L.jsx)("div",{className:h}),Object(L.jsx)("div",{className:"tile-back",style:x})]})}var _=function(){function e(t,o,i,n,s,l){Object(G.a)(this,e),this[d.b]=!0,this.row=void 0,this.col=void 0,this.color=void 0,this.solutionColor=void 0,this.item=void 0,this.ice=void 0,this.row=t,this.col=o,this.color=null!==i&&void 0!==i?i:I.DEFAULT,this.solutionColor=null!==n&&void 0!==n?n:I.DEFAULT,this.item=s,this.ice=null!==l&&void 0!==l&&l}return Object(W.a)(e,[{key:"updateColor",value:function(e){return this.color===I.DARK?null:e===I.DARK&&this.color!==I.DEFAULT?(this.color=I.DEFAULT,this.color):e!==I.DEFAULT&&e!==I.DARK&&e!==this.color?(this.color=e,this.color):null}},{key:"renderElements",value:function(e,t,o,i){var n="tile-".concat(this.row,"-").concat(this.col),s=[];return s.push(Object(L.jsx)(Q,{color:this.color,alt:(this.row+this.col)%2===0,solution:this.solutionColor,showSolution:e,row:this.row,col:this.col,playerRow:t,playerCol:o,ice:this.ice,onTilePress:i},n)),this.item&&s.push(this.item.render(this.row,this.col)),s}},{key:"renderSolution",value:function(){var e="solution-tile-".concat(this.row,"-").concat(this.col);return Object(L.jsx)(Q,{color:this.solutionColor,ice:this.ice,alt:(this.row+this.col)%2===0,row:this.row,col:this.col},e)}}]),e}(),X=function(){function e(t){Object(G.a)(this,e),this[d.b]=!0,this.cells=void 0,this.width=void 0,this.height=void 0,this.cells=t.map((function(e,t){return e.map((function(e,o){return e.hasTile?new _(t,o,e.tileColor,e.solutionColor,Object(H.cloneDeep)(e.item),e.ice):null}))})),this.height=this.cells.length,this.width=Math.max.apply(Math,Object(M.a)(this.cells.map((function(e){return e.length}))))}return Object(W.a)(e,[{key:"getCellAt",value:function(e,t){return this.cells[e]&&this.cells[e][t]?this.cells[e][t]:null}},{key:"isGridSolved",value:function(){for(var e=0;e<this.cells.length;e+=1)for(var t=0;t<this.cells[e].length;t+=1){var o,i,n,s;if((null!==(o=null===(i=this.cells[e][t])||void 0===i?void 0:i.color)&&void 0!==o?o:null)!==(null!==(n=null===(s=this.cells[e][t])||void 0===s?void 0:s.solutionColor)&&void 0!==n?n:null))return!1}return!0}},{key:"renderElements",value:function(e,t,o,i){for(var n=[],s=0;s<this.cells.length;s+=1)for(var l=0;l<this.cells[s].length;l+=1){var r=this.cells[s][l];r&&n.push.apply(n,Object(M.a)(r.renderElements(e,t,o,i)))}return n}},{key:"renderSolution",value:function(){for(var e=[],t=0;t<this.cells.length;t+=1)for(var o=0;o<this.cells[t].length;o+=1){var i=this.cells[t][o];i&&e.push(i.renderSolution())}return e}},{key:"getCenterOffset",value:function(e,t,o){return{x:(t-this.width*e)/2,y:(o-this.height*e)/2}}}]),e}();o(67);function V(e){var t=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),o=t.width,i=t.height,n=t.ref,s=e.grid.getCenterOffset(20,null!==o&&void 0!==o?o:0,null!==i&&void 0!==i?i:0),l=e.grid.renderSolution();return Object(L.jsx)(K.Provider,{value:s,children:Object(L.jsx)(Z.Provider,{value:20,children:Object(L.jsx)("div",{className:"level-preview-grid",ref:n,children:l})})})}var J=o(24),$=o(23),ee=function(){function e(){Object(G.a)(this,e),this[d.b]=!0}return Object(W.a)(e,[{key:"updatePlayerColor",value:function(){return null}}]),e}();o(71);function te(e){var t=Object(i.useContext)(K),o=Object(i.useContext)(Z),n=Object(i.useState)(4*Math.random()),s=Object(u.a)(n,1)[0],l=Math.floor(5*o/12),r=(o-l)/2,a="swatch bg-".concat(e.color),c={animationDelay:"-".concat(s,"s"),height:"".concat(l,"px"),left:"".concat(e.col*o+r+t.x,"px"),top:"".concat(e.row*o+r+t.y,"px"),width:"".concat(l,"px")},h={borderWidth:"".concat(Math.ceil(3*l/20),"px")};return Object(L.jsx)("div",{className:a,style:c,children:Object(L.jsx)("div",{className:"swatch-border",style:h})})}var oe,ie=function(e){Object(J.a)(o,e);var t=Object($.a)(o);function o(e){var i;return Object(G.a)(this,o),(i=t.call(this)).color=void 0,i.color=null!==e&&void 0!==e?e:I.DEFAULT,i}return Object(W.a)(o,[{key:"render",value:function(e,t){var o="swatch-".concat(e,"-").concat(t);return Object(L.jsx)(te,{color:this.color,row:e,col:t},o)}},{key:"updatePlayerColor",value:function(){return this.color}}]),o}(ee),ne={id:"X08Cn2VWa0C6YvdCaTQMFw==",description:Object(L.jsxs)("p",{children:["An introduction to the game of ",Object(L.jsx)("em",{children:"Color Coords"}),"."]}),levelInstructions:[{element:Object(L.jsxs)("p",{children:["Welcome to ",Object(L.jsx)("em",{children:"Color Coords"}),"! The goal of the game is to color the puzzle grid to match the solution shown in the target window."]})},{element:Object(L.jsxs)("p",{children:["To do so, start by moving your ",Object(L.jsx)("strong",{children:" player piece "}),"across the grid. You can use either the arrow keys or by clicking on the tile you wish to move to. Note: you can only click on tiles in the same row or column as the player piece."]})},{element:Object(L.jsxs)("p",{children:["In order to color the grid, you will need to move your player piece onto a",Object(L.jsx)("strong",{children:" swatch "})," item. After doing so, your player piece will change color, giving you the ability to paint the grid as you move around."]})},{element:Object(L.jsx)("p",{children:"Try to solve the puzzle in the fewest moves possible. Good luck and have fun!"})}],gridConfig:[[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.BLUE,item:new ie(I.BLUE)}],[{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE}],[{hasTile:!0,solutionColor:I.RED,item:new ie(I.RED)},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED}]],playerRow:1,playerCol:1,levelName:"Swatches I",starRequirement3:12,starRequirement2:16,requiredToUnlock:0},se={id:"czdtzyW72UKVkwfmYkRCAA==",levelInstructions:[{element:Object(L.jsxs)("p",{children:["Tip: If you make a mistake during the puzzle, you can press the",Object(L.jsx)("strong",{children:" undo "})," and ",Object(L.jsx)("strong",{children:" redo "})," buttons in the quick menu to go back to a previous state. Alternatively, you can use your keyboard, by pressing ",Object(L.jsx)("strong",{children:" Z "})," (to undo) or ",Object(L.jsx)("strong",{children:" Y "})," (to redo)."]})},{element:Object(L.jsxs)("p",{children:["If you feel like starting from the very beginning, press the restart button in the quick menu or press the ",Object(L.jsx)("strong",{children:" R "})," key on your keyboard."]})}],gridConfig:[[{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.ORANGE}],[{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.ORANGE}],[{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.ORANGE,item:new ie(I.ORANGE)},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE,item:new ie(I.PURPLE)}],[{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE}]],playerRow:2,playerCol:2,levelName:"Swatches II",starRequirement3:17,starRequirement2:20,requiredToUnlock:1},le={id:"ZascZkE+A0CjlYxEmU65cQ==",levelInstructions:[{element:Object(L.jsxs)("p",{children:["Tip: You can ",Object(L.jsx)("strong",{children:" re-position "})," or ",Object(L.jsx)("strong",{children:" zoom in/out "}),"on the puzzle grid. Simply drag anywhere in the puzzle area to re-position the grid, and press the zoom in / zoom out buttons from the quick menu to adjust the zoom. You can do the same in the target window as well."]})},{element:Object(L.jsx)("p",{children:"Additionally, you can adjust the size of the target window by dragging the resize handle (located in the bottom left corner of the window if playing on a desktop, or at the top of the window if playing on a mobile device)."})},{element:Object(L.jsx)("p",{children:"If you are playing on a desktop, you can also re-position the target window by dragging the top bar of the window."})}],gridConfig:[[{hasTile:!0,solutionColor:I.GREEN,item:new ie(I.GREEN)},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.YELLOW,item:new ie(I.YELLOW)}],[{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.YELLOW}],[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!1},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.GREEN}],[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.GREEN}]],playerRow:3,playerCol:2,levelName:"Swatches III",starRequirement3:47,starRequirement2:54,requiredToUnlock:1},re={id:"DwaPoAeJnkmnOGFPsUKPIw==",levelInstructions:[{element:Object(L.jsxs)("p",{children:["Tip: If playing on a desktop, you can hold the ",Object(L.jsx)("strong",{children:" Q "})," key to view the solution overlayed on top of the puzzle grid."]})}],gridConfig:[[{hasTile:!0,solutionColor:I.YELLOW,item:new ie(I.YELLOW)},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.RED,item:new ie(I.RED)}],[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.YELLOW}],[{hasTile:!0,solutionColor:I.BLUE,item:new ie(I.BLUE)},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED}]],playerRow:1,playerCol:1,levelName:"Tricolor",starRequirement3:17,starRequirement2:22,requiredToUnlock:3},ae={id:"N93y5GKYIEW2k+16R9tSOQ==",gridConfig:[[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.RED,item:new ie(I.RED)},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.YELLOW,item:new ie(I.YELLOW)},{hasTile:!0,solutionColor:I.RED}],[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.YELLOW}],[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!1},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!1},{hasTile:!0,solutionColor:I.RED}],[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.PURPLE,item:new ie(I.PURPLE)},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.YELLOW}],[{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.YELLOW},{hasTile:!0,solutionColor:I.RED}]],playerRow:2,playerCol:2,levelName:"Up the Middle",starRequirement3:76,starRequirement2:90,requiredToUnlock:3},ce={id:"TybPZyZJYEae4LbNHlbeYg==",gridConfig:[[{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE,item:new ie(I.BLUE)},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!1},{hasTile:!1},{hasTile:!1},{hasTile:!1}],[{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.PURPLE},{hasTile:!0,solutionColor:I.ORANGE}],[{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!1},{hasTile:!0,solutionColor:I.PURPLE,item:new ie(I.PURPLE)},{hasTile:!1},{hasTile:!0,solutionColor:I.ORANGE,item:new ie(I.ORANGE)}]],playerRow:0,playerCol:0,levelName:"Keys",starRequirement3:30,starRequirement2:35,requiredToUnlock:3},ue={id:"mWgTHtQTikqu7J9n3kjeDg==",description:Object(L.jsx)("p",{children:"An introduction to dark tiles."}),levelInstructions:[{element:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Dark tiles "})," cannot change colors; they will always remain black, even if the player pieces moves across them while in a colored state."]})}],gridConfig:[[{hasTile:!0,solutionColor:I.PURPLE,item:new ie(I.PURPLE)},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK},{hasTile:!0,solutionColor:I.GREEN}],[{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK},{hasTile:!0,solutionColor:I.PURPLE}],[{hasTile:!0,solutionColor:I.GREEN,item:new ie(I.GREEN)},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK},{hasTile:!0,solutionColor:I.ORANGE,item:new ie(I.ORANGE)}]],playerRow:1,playerCol:1,levelName:"Dark Tiles I",starRequirement3:14,starRequirement2:15,requiredToUnlock:7},he={id:"6CLrD8Z0TUK3lqRrQQB/qQ==",gridConfig:[[{hasTile:!0,solutionColor:I.GREEN,item:new ie(I.GREEN)},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.BLUE,item:new ie(I.BLUE)}],[{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.BLUE}],[{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.GREEN},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK}],[{hasTile:!0,solutionColor:I.ORANGE,item:new ie(I.ORANGE)},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK}]],playerRow:1,playerCol:1,levelName:"Dark Tiles II",starRequirement3:50,starRequirement2:60,requiredToUnlock:8},de={id:"AZn/4XVi8EOd/qqCmO9icQ==",description:Object(L.jsx)("p",{children:"An introduction to the dark swatch."}),levelInstructions:[{element:Object(L.jsxs)("p",{children:["The ",Object(L.jsx)("strong",{children:" dark swatch "})," will turn the player piece black. While moving around in this state, the player piece will remove colors from any grid tile it lands on."]})}],gridConfig:[[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.DEFAULT},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED,item:new ie(I.RED)}],[{hasTile:!0,solutionColor:I.DEFAULT},{hasTile:!0,solutionColor:I.DEFAULT,item:new ie(I.DARK)},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED}],[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.DEFAULT},{hasTile:!0,solutionColor:I.DEFAULT}],[{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.RED},{hasTile:!0,solutionColor:I.DEFAULT},{hasTile:!0,solutionColor:I.RED}]],playerRow:3,playerCol:3,levelName:"Erasure",starRequirement3:29,starRequirement2:34,requiredToUnlock:10},je={id:"rHfDwxEz5UWdA5RwOxn71Q==",description:Object(L.jsx)("p",{children:"An introduction to ice tiles."}),levelInstructions:[{element:Object(L.jsxs)("p",{children:["When the player piece moves onto an ",Object(L.jsx)("strong",{children:" ice tile"}),", it will keep moving in the same direction until it hits a wall or until it lands on a non-ice tile."]})},{element:Object(L.jsx)("p",{children:"Also, note that ice tiles can still be colored, just like default tiles."})}],gridConfig:[[{hasTile:!0,solutionColor:I.BLUE,item:new ie(I.BLUE)},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!1}],[{hasTile:!0,solutionColor:I.ORANGE,ice:!0},{hasTile:!0,solutionColor:I.ORANGE,ice:!0},{hasTile:!0,solutionColor:I.ORANGE,ice:!0},{hasTile:!0,solutionColor:I.ORANGE,ice:!0}],[{hasTile:!0,solutionColor:I.ORANGE,ice:!0},{hasTile:!0,solutionColor:I.BLUE,ice:!0},{hasTile:!0,solutionColor:I.BLUE,ice:!0},{hasTile:!0,solutionColor:I.ORANGE,ice:!0}],[{hasTile:!0,solutionColor:I.ORANGE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.BLUE},{hasTile:!0,solutionColor:I.ORANGE,item:new ie(I.ORANGE)}]],playerRow:3,playerCol:0,levelName:"Ice I",starRequirement3:10,starRequirement2:12,requiredToUnlock:12},be={id:"85WkcFxQFk6YcxuxVD/VEg==",gridConfig:[[{hasTile:!1},{hasTile:!0,solutionColor:I.GREEN,ice:!0},{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.RED,ice:!0},{hasTile:!0,solutionColor:I.RED,ice:!0}],[{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.GREEN,ice:!0,item:new ie(I.GREEN)},{hasTile:!0,solutionColor:I.GREEN,ice:!0},{hasTile:!1},{hasTile:!0,solutionColor:I.RED,ice:!0}],[{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,tileColor:I.DARK,solutionColor:I.DARK},{hasTile:!0,solutionColor:I.GREEN,ice:!0},{hasTile:!0,solutionColor:I.GREEN,ice:!0}],[{hasTile:!0,solutionColor:I.RED,ice:!0},{hasTile:!1},{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.YELLOW,ice:!0,item:new ie(I.YELLOW)}],[{hasTile:!0,solutionColor:I.RED,ice:!0,item:new ie(I.RED)},{hasTile:!0,solutionColor:I.RED,ice:!0},{hasTile:!0,solutionColor:I.YELLOW,ice:!0},{hasTile:!0,solutionColor:I.RED,ice:!0},{hasTile:!1}]],playerRow:2,playerCol:2,levelName:"Ice II",starRequirement3:23,starRequirement2:26,requiredToUnlock:13};!function(e){e.PLAYER="player",e.TILE="tile"}(oe||(oe={}));var ve=[ne,se,le,re,ce,ae,ue,he,de,je,be],Oe=(o(72),16);function me(e){return Object(L.jsx)("table",{children:Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:Object(L.jsxs)("span",{className:"star-container",children:[Object(L.jsx)(S,{filled:!0,size:Oe}),Object(L.jsx)(S,{filled:!1,size:Oe}),Object(L.jsx)(S,{filled:!1,size:Oe})]})}),Object(L.jsx)("td",{children:"Complete the level\u2026"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsxs)("td",{children:[Object(L.jsx)(S,{filled:!0,size:Oe}),Object(L.jsx)(S,{filled:!0,size:Oe}),Object(L.jsx)(S,{filled:!1,size:Oe})]}),Object(L.jsx)("td",{children:"\u2026in ".concat(e.starRequirement2," or fewer moves.")})]}),Object(L.jsxs)("tr",{children:[Object(L.jsxs)("td",{children:[Object(L.jsx)(S,{filled:!0,size:Oe}),Object(L.jsx)(S,{filled:!0,size:Oe}),Object(L.jsx)(S,{filled:!0,size:Oe})]}),Object(L.jsx)("td",{children:"\u2026in ".concat(e.starRequirement3," or fewer moves.")})]})]})})}function pe(e,t){for(var o=[],i=void 0!==t&&t>0?"".concat(t," moves"):"-",n=1;n<=3;n+=1)o.push(Object(L.jsx)(S,{filled:n<=e,size:Oe},"pb-star-".concat(n)));return Object(L.jsx)("table",{children:Object(L.jsx)("tbody",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:Object(L.jsx)("span",{className:"star-container",children:o})}),Object(L.jsx)("td",{children:i})]})})})}function fe(e){if(null!==e.selectedLevel&&ve[e.selectedLevel-1]){var t,o=ve[e.selectedLevel-1],i=e.starsScoredOnLevel(e.selectedLevel),n=e.starsToUnlockLevel(e.selectedLevel);if(i<0)return Object(L.jsxs)("section",{className:"level-preview",children:[Object(L.jsx)("div",{className:"locked-box",children:Object(L.jsx)(p.a,{icon:f.d})}),Object(L.jsxs)("h2",{children:[e.selectedLevel,". ",o.levelName]}),Object(L.jsxs)("p",{className:"unlock-text",children:["Collect a total of ",o.requiredToUnlock,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:Oe})})," to unlock this level (you need ",n,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:Oe})})," more)."]})]});var s=new X(o.gridConfig);return Object(L.jsxs)("section",{className:"level-preview",children:[Object(L.jsx)(V,{grid:s}),Object(L.jsxs)("h2",{children:[e.selectedLevel,". ",o.levelName]}),o.description,Object(L.jsxs)(v.b,{to:"/game/".concat(e.selectedLevel),className:"play-btn",children:[Object(L.jsx)(p.a,{icon:f.e})," Play"]}),Object(L.jsx)("hr",{}),Object(L.jsx)("h3",{children:"Personal Best"}),pe(i,null===(t=e.levelScoreMap[o.id])||void 0===t?void 0:t.moves),Object(L.jsx)("h3",{children:"Scoring"}),me(o)]})}return Object(L.jsx)("section",{className:"level-preview"})}o(73);function xe(e){var t=function(t){e.selectedLevel===t?e.setIsSelected(!e.isSelected):(e.setIsSelected(!0),e.setSelectedLevel(t))},o=ve.map((function(o,i){var n="level-select-btn",s=i+1,l=e.starsScoredOnLevel(s);return e.isSelected&&e.selectedLevel===s?n+=" btn-highlight":l>=3?n+=" btn-star-3":l>0?n+=" btn-star-1":l<0&&(n+=" btn-locked"),Object(L.jsx)("button",{className:n,onClick:t.bind(null,s),"aria-label":"Toggle preview of level ".concat(s),children:s},"level-btn-".concat(o.id))}));return Object(L.jsx)("section",{className:"level-btn-container",ref:e.containerRef,children:o})}o(74);function ye(e){var t=function(t){e.selectedLevel===t?e.setIsSelected(!e.isSelected):(e.setIsSelected(!0),e.setSelectedLevel(t))},o=ve.map((function(o,i){var n="level-select-mobile-btn",s=i+1,l=e.starsScoredOnLevel(s);e.isSelected&&e.selectedLevel===s?n+=" btn-highlight":l>=3?n+=" btn-star-3":l>0?n+=" btn-star-1":l<0&&(n+=" btn-locked");var r=null;if(l<0){var a=e.starsToUnlockLevel(s),c="level-preview-mobile level-preview-locked";c+=e.isSelected&&e.selectedLevel===s?" preview-open":"",r=Object(L.jsx)("section",{className:c,children:Object(L.jsxs)("div",{className:"level-preview-padding",children:[Object(L.jsx)("div",{className:"locked-box",children:Object(L.jsx)(p.a,{icon:f.d})}),Object(L.jsxs)("p",{className:"unlock-text",children:["Collect a total of ",o.requiredToUnlock,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:16})})," to unlock this level (you need ",a,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:16})})," more)."]})]})})}else{var u,h=new X(o.gridConfig),d="level-preview-mobile";d+=e.isSelected&&e.selectedLevel===s?" preview-open":"",r=Object(L.jsx)("section",{className:d,children:Object(L.jsxs)("div",{className:"level-preview-padding",children:[Object(L.jsx)(V,{grid:h}),o.description,Object(L.jsxs)(v.b,{to:"/game/".concat(e.selectedLevel),className:"play-btn",children:[Object(L.jsx)(p.a,{icon:f.e})," Play"]}),Object(L.jsx)("hr",{}),Object(L.jsx)("h3",{children:"Personal Best"}),pe(l,null===(u=e.levelScoreMap[o.id])||void 0===u?void 0:u.moves),Object(L.jsx)("h3",{children:"Scoring"}),me(o)]})})}return Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{className:n,onClick:t.bind(null,s),"aria-label":"Toggle preview of level ".concat(s),children:Object(L.jsxs)("h2",{children:[s,". ",o.levelName]})}),r]},"level-btn-mobile-".concat(o.id))}));return Object(L.jsx)("main",{className:"level-select-mobile",children:o})}o(75);function ge(e){var t=Object(i.useState)(null),o=Object(u.a)(t,2),n=o[0],s=o[1],l=Object(i.useState)(!1),r=Object(u.a)(l,2),a=r[0],c=r[1],h=Object(i.useRef)(null),d=a?"level-select-main level-selected":"level-select-main";return Object(L.jsxs)("div",{className:"level-select",children:[Object(L.jsx)(P,{starCount:e.starCount}),Object(L.jsxs)("main",{className:d,onClick:function(e){e.preventDefault(),e.target===h.current&&c(!1)},children:[Object(L.jsx)(xe,{selectedLevel:n,isSelected:a,setSelectedLevel:s,setIsSelected:c,containerRef:h,starsScoredOnLevel:e.starsScoredOnLevel}),Object(L.jsx)(fe,{selectedLevel:n,levelScoreMap:e.levelScoreMap,starsScoredOnLevel:e.starsScoredOnLevel,starsToUnlockLevel:e.starsToUnlockLevel})]}),Object(L.jsx)(ye,{selectedLevel:n,isSelected:a,setSelectedLevel:s,setIsSelected:c,starsScoredOnLevel:e.starsScoredOnLevel,levelScoreMap:e.levelScoreMap,starsToUnlockLevel:e.starsToUnlockLevel})]})}var Ce=o(6),we=o(50),Te=o(11);var Ee=o(106),Re=o(107);o(79);function Ne(e){var t,o=e.row,n=e.col,s=e.movementToggle,l=Object(i.useState)(o),r=Object(u.a)(l,2),a=r[0],c=r[1],h=Object(i.useState)(n),d=Object(u.a)(h,2),j=d[0],b=d[1],v=Object(i.useContext)(K),O=Object(i.useContext)(Z),m=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e}),[e]),t.current}({row:o,col:n}),p=5*O/6,f=(O-p)/2;Object(i.useEffect)((function(){if(s&&m){var t=0,i=Ee.b,l=70;e.playerMovementType===z.TO_ICE?i=Ee.a:e.playerMovementType===z.FROM_ICE?i=Ee.c:e.playerMovementType===z.ON_ICE&&(i=Re.a,l=35);var r=setInterval((function(){if(t>=l)clearInterval(r),e.onAnimationEnd();else{var s=i((t+=1)/l);c(m.row+(o-m.row)*s),b(m.col+(n-m.col)*s)}}),5)}else c(o),b(n)}),[o,n,s]);var x=null!==(t=e.color)&&void 0!==t?t:I.DEFAULT,y="player-color bg-".concat(x),g=Math.ceil(O/12),C={borderRadius:"".concat(p,"px"),borderWidth:"".concat(g,"px"),height:"".concat(p,"px"),left:"".concat(j*O+f+v.x,"px"),top:"".concat(a*O+f+v.y,"px"),width:"".concat(p,"px")},w={borderRadius:"".concat(p,"px"),borderWidth:"".concat(g,"px")};return Object(L.jsxs)("div",{className:"player",style:C,children:[Object(L.jsx)("div",{className:y,style:w}),Object(L.jsx)("div",{className:"player-border",style:w})]})}function ke(e){return new Promise((function(t){setTimeout(t,e)}))}function Le(e,t,o){return Math.min(Math.max(o,e),t)}o(80);function Se(e){var t=Object(i.useState)(!1),o=Object(u.a)(t,2),n=o[0],s=o[1],l=Object(i.useState)(!1),r=Object(u.a)(l,2),d=r[0],j=r[1],b=Object(i.useState)(0),v=Object(u.a)(b,2),O=v[0],m=v[1],p=Object(i.useState)(0),f=Object(u.a)(p,2),x=f[0],y=f[1],g=Object(i.useState)(0),C=Object(u.a)(g,2),w=C[0],T=C[1],E=Object(i.useState)(0),R=Object(u.a)(E,2),N=R[0],k=R[1],S=Object(i.useState)(0),P=Object(u.a)(S,2),D=P[0],I=P[1],A=Object(i.useState)(!1),U=Object(u.a)(A,2),z=U[0],M=U[1],G=Object(i.useContext)(Z),W=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),H=W.width,q=W.height,F=W.ref,Y=e.grid.getCenterOffset(G,null!==H&&void 0!==H?H:0,null!==q&&void 0!==q?q:0);Y.x+=N*(null!==H&&void 0!==H?H:0),Y.y+=D*(null!==q&&void 0!==q?q:0);var B=function(){H&&q&&(I(48/(2*q)),k(H<640?0:-300/(2*H)),M(!0))};Object(i.useEffect)((function(){e.onGridSizeChange(H,q),z||B()}),[H,q]),Object(i.useEffect)((function(){B()}),[e.levelNumber]),Object(i.useEffect)((function(){e.shouldResetLayout&&B()}),[e.shouldResetLayout]);var Q=e.isPlayerMoving?e.grid.renderElements(e.showSolution):e.grid.renderElements(e.showSolution,e.playerRow,e.playerCol,e.onTilePress),_=function(){var t=Object(c.a)(a.a.mark((function t(o){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=d,s(!1),m(0),j(!1),F.current&&F.current.releasePointerCapture(o.pointerId),!i){t.next=8;break}return t.next=8,ke(0);case 8:e.dragHandler(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X={className:"tile-grid ".concat(d?"grid-dragging":""),ref:F,onPointerDown:function(e){s(!0),m(0),j(!1),y(e.clientX),T(e.clientY)},onPointerUp:_};return n&&(X.onPointerMove=function(t){if(n){var o=Math.abs(t.clientX-x),i=Math.abs(t.clientY-w),s=O+Math.pow(o,2)+Math.pow(i,2);if(m(s),d||s>=100){j(!0),e.dragHandler(!0),F.current&&F.current.setPointerCapture(t.pointerId);var l=N+(t.clientX-x)/(H||1);l=Le(l,.5,-.5);var r=D+(t.clientY-w)/(q||1);r=Le(r,.5,-.5),k(l),I(r),y(t.clientX),T(t.clientY)}}}),Object(L.jsx)(K.Provider,{value:Y,children:Object(L.jsxs)("div",Object(Te.a)(Object(Te.a)({},X),{},{children:[Q,Object(L.jsx)(Ne,{color:e.playerColor,row:e.playerRow,col:e.playerCol,movementToggle:e.isPlayerMoving,playerMovementType:e.playerMovementType,onAnimationEnd:e.onPlayerAnimationEnd})]}))})}o(81);function Pe(e){var t=e.isOpen?"game-menu-open":"game-menu-closed",o="game-menu-overlay ".concat(t),i="game-menu-nav ".concat(t),n=e.isOpen?0:-1,s=(e.showSettings,p.a,f.b,e.startTutorial?Object(L.jsxs)("button",{className:"game-menu-btn",tabIndex:n,onClick:function(){e.startTutorial&&(e.startTutorial(),e.setOpen(!1))},children:[Object(L.jsx)(p.a,{icon:f.c}),Object(L.jsx)("span",{children:"View Tutorial"})]}):null);return Object(L.jsxs)("div",{className:"game-menu",children:[Object(L.jsx)("div",{className:o,onClick:e.setOpen.bind(null,!1)}),Object(L.jsxs)("nav",{className:i,children:[Object(L.jsxs)(v.b,{to:"/level-select",tabIndex:n,className:"game-menu-btn game-menu-first",children:[Object(L.jsx)(p.a,{icon:f.k}),Object(L.jsx)("span",{children:"Level Select"})]}),Object(L.jsxs)("button",{className:"game-menu-btn",tabIndex:n,onClick:e.showInstructions,children:[Object(L.jsx)(p.a,{icon:f.f}),Object(L.jsx)("span",{children:"How to Play"})]}),s,Object(L.jsxs)("button",{className:"game-menu-btn game-menu-last",tabIndex:n,onClick:function(){e.resetLayout(),e.setOpen(!1)},children:[Object(L.jsx)(p.a,{icon:f.j}),Object(L.jsx)("span",{children:"Reset Layout"})]})]})]})}var De=o(108);o(82);function Ie(e){return Object(L.jsxs)("header",{className:"top-bar game-top-bar",children:[Object(L.jsx)("div",{className:"hamburger-btn",children:Object(L.jsx)(De.a,{toggled:e.isMenuOpen,onToggle:e.setMenuOpen,rounded:!0,size:24,label:"Toggle menu",hideOutline:!1})}),Object(L.jsx)("div",{className:"game-level",children:Object(L.jsxs)("h1",{className:"top-bar-text",children:[e.levelNumber,". ",e.levelName]})}),Object(L.jsx)("div",{className:"moves-taken",children:Object(L.jsxs)("span",{className:"top-bar-text",children:["Moves: ",e.movesTaken]})}),Object(L.jsx)("div",{className:"clearfix"})]})}o(83);function Ae(e){return Object(L.jsxs)("div",{className:"game-hud",children:[Object(L.jsx)(Ie,{isMenuOpen:e.isMenuOpen,setMenuOpen:e.setMenuOpen,levelNumber:e.levelNumber,levelName:e.levelName,movesTaken:e.movesTaken}),Object(L.jsx)(Pe,{isOpen:e.isMenuOpen,setOpen:e.setMenuOpen,showSettings:e.showSettings,showInstructions:e.showInstructions,resetLayout:e.resetLayout,startTutorial:e.startTutorial})]})}o(84);function Ue(e){var t=null,o=null,i=null;if(ve[e.levelNumber]){var n=ve[e.levelNumber];if(e.starsScoredOnLevel(e.levelNumber+1)>=0)t=Object(L.jsxs)(v.b,{to:"/game/".concat(e.levelNumber+1),className:"level-complete-btn",children:[Object(L.jsx)(p.a,{icon:f.e})," Next Level"]});else{var s=e.starsToUnlockLevel(e.levelNumber+1);o=Object(L.jsxs)("p",{className:"level-complete-unlock-text",children:["Collect a total of ",n.requiredToUnlock,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:16})})," to unlock the next level (you need ",s,Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:16})})," more)."]}),t=Object(L.jsxs)("button",{className:"level-complete-btn locked-next-btn",children:[Object(L.jsx)(p.a,{icon:f.d})," Next Level"]})}}if(ve[e.levelNumber-1]&&e.stars<3){var l=ve[e.levelNumber-1];i=Object(L.jsxs)("div",{className:"level-complete-3s-text",children:["Complete the puzzle in ",Object(L.jsx)("strong",{children:l.starRequirement3})," moves to earn a 3",Object(L.jsx)("span",{children:Object(L.jsx)(S,{filled:!0,size:16})})," "," score."]})}for(var r=[],a=1;a<=3;a+=1)r.push(Object(L.jsx)(S,{filled:a<=e.stars,className:"level-complete-star lcs-".concat(a),size:50},"lcs-".concat(a)));return Object(L.jsx)("div",{className:"level-complete",children:Object(L.jsxs)("div",{className:"level-complete-main",children:[Object(L.jsx)("div",{className:"level-complete-star-container",children:r}),Object(L.jsx)("div",{className:"level-complete-msg",children:"Puzzle Completed!"}),i,Object(L.jsxs)("div",{className:"level-complete-btn-container",children:[Object(L.jsxs)(v.b,{to:"/level-select",className:"level-complete-btn",children:[Object(L.jsx)(p.a,{icon:f.k})," Level Select"]}),Object(L.jsxs)("button",{className:"level-complete-btn",onClick:e.restartHandler,children:[Object(L.jsx)(p.a,{icon:f.j})," Restart"]}),t]}),o]})})}var ze=o(39);o(90);function Me(e){var t=Object(i.useContext)(K),o=Object(i.useContext)(Z),n={height:"".concat(o,"px"),left:"".concat(e.col*o+t.x,"px"),top:"".concat(e.row*o+t.y,"px"),width:"".concat(o,"px")},s={borderWidth:Math.floor(3*o/20),height:Math.floor(o/5),width:Math.floor(o/5)};return Object(L.jsxs)("div",{className:"solution-player-cursor",style:n,children:[Object(L.jsx)("div",{className:"cursor-corner cursor-corner-top-left",style:s}),Object(L.jsx)("div",{className:"cursor-corner cursor-corner-top-right",style:s}),Object(L.jsx)("div",{className:"cursor-corner cursor-corner-bottom-left",style:s}),Object(L.jsx)("div",{className:"cursor-corner cursor-corner-bottom-right",style:s})]})}o(91);function Ge(e){var t="adjust-btn ".concat(e.canZoomIn?"":" adjust-disabled"),o="adjust-btn ".concat(e.canZoomOut?"":" adjust-disabled");return Object(L.jsxs)("div",{id:"solution-adjust-menu",className:"adjust-menu solution-adjust-menu",children:[Object(L.jsxs)("div",{className:t,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.zoomInHandler,"aria-label":"Zoom in",children:Object(L.jsx)(p.a,{icon:f.i})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Zoom In"})]}),Object(L.jsxs)("div",{className:o,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.zoomOutHandler,"aria-label":"Zoom out",children:Object(L.jsx)(p.a,{icon:f.h})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Zoom Out"})]})]})}o(92);var We=100;function He(e,t,o){if(!t||!o)return 0;var i=-4/o;return Le(e,Math.max(i,(o-t-12)/o),i)}function qe(e,t,o){if(!t||!o)return 0;var i=-4/o;return Le(e,Math.max(i,(o-t-84)/o),i)}function Fe(e,t){return t?4+e*t:4}function Ye(e,t){return t?52+e*t:4}function Be(e,t,o,i,n,s){var l=n-Fe(o,n)-8,r=s-Ye(i,s)-32;return{width:Math.max(Math.min(e,l),We),height:Math.max(Math.min(t,r),We)}}function Ke(e){var t,o=Object(i.useState)(2),n=Object(u.a)(o,2),s=n[0],l=n[1],r=Object(i.useState)(F),d=Object(u.a)(r,2),j=d[0],b=d[1],v=Object(i.useState)(F),O=Object(u.a)(v,2),m=O[0],p=O[1],f=Object(i.useState)(.35),x=Object(u.a)(f,2),y=x[0],g=x[1],C=Object(i.useState)(0),w=Object(u.a)(C,2),T=w[0],E=w[1],R=Object(i.useState)(0),N=Object(u.a)(R,2),k=N[0],S=N[1],P=Object(i.useState)(!1),D=Object(u.a)(P,2),I=D[0],A=D[1],U=Object(i.useState)(0),z=Object(u.a)(U,2),M=z[0],G=z[1],W=Object(i.useState)(0),H=Object(u.a)(W,2),q=H[0],B=H[1],Q=Object(i.useState)(!1),_=Object(u.a)(Q,2),X=_[0],V=_[1],J=Object(i.useState)(0),$=Object(u.a)(J,2),ee=$[0],te=$[1],oe=Object(i.useState)(0),ie=Object(u.a)(oe,2),ne=ie[0],se=ie[1],le=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:10}),re=le.width,ae=le.height,ce=le.ref,ue=null!==(t=Y[s])&&void 0!==t?t:20,he=e.grid.getCenterOffset(ue,null!==re&&void 0!==re?re:0,null!==ae&&void 0!==ae?ae:0),de=Object(i.useRef)(null),je=void 0!==e.gridWidth&&e.gridWidth<640;he.x+=M*(null!==re&&void 0!==re?re:0),he.y+=q*(null!==ae&&void 0!==ae?ae:0);var be=function(){G(0),B(0),l(2),b(F),p(F),te(0),se(0),g(.35)};Object(i.useEffect)((function(){be()}),[e.levelNumber]),Object(i.useEffect)((function(){e.shouldResetLayout&&be()}),[e.shouldResetLayout]),Object(i.useEffect)((function(){if(!je){var t=He(ee,j,e.gridWidth),o=qe(ne,m,e.gridHeight);if(te(t),se(o),e.gridWidth&&e.gridHeight){var i=Be(j,m,t,o,e.gridWidth,e.gridHeight);b(i.width),p(i.height)}}}),[e.gridWidth,e.gridHeight]),Object(i.useEffect)((function(){if(e.appHeight){var t=Le(y,.8,35/e.appHeight);g(t)}}),[e.appHeight]);var ve=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!1),ce.current&&ce.current.releasePointerCapture(t.pointerId);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(!1),de.current&&de.current.releasePointerCapture(t.pointerId);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=!e.gameOver&&!e.isMenuOpen,pe=s<Y.length-1,fe=s>0,xe={className:"solution",ref:ce,onPointerDown:function(e){(function(e,t){for(;e;){var o;if((null===(o=e)||void 0===o?void 0:o.id)===t)return!0;e=e.parentElement}return!1})(e.target,"solution-adjust-menu")||(A(!0),E(e.clientX),S(e.clientY),ce.current&&ce.current.setPointerCapture(e.pointerId))},onPointerUp:ve};je||(xe.style={height:"".concat(m,"px"),width:"".concat(j,"px")}),I&&(xe.onPointerMove=function(e){if(I){var t=M+(e.clientX-T)/(re||1);t=Le(t,.5,-.5);var o=q+(e.clientY-k)/(ae||1);o=Le(o,.5,-.5),G(t),B(o),E(e.clientX),S(e.clientY)}});var ye="solution-target-text",ge={className:ye+=je?"":" solution-draggable",ref:de,onPointerDown:function(e){je||(V(!0),E(e.clientX),S(e.clientY),de.current&&de.current.setPointerCapture(e.pointerId))},onPointerUp:Oe};X&&(ge.onPointerMove=function(t){if(X&&!je){var o=ee-(t.clientX-T)/(e.gridWidth||1);o=He(o,j,e.gridWidth);var i=ne+(t.clientY-k)/(e.gridHeight||1);i=qe(i,m,e.gridHeight),te(o),se(i),E(t.clientX),S(t.clientY)}});var Ce={},we=e.appHeight?e.appHeight*y:35;je?Ce.height="".concat(we,"px"):(Ce.right=Fe(ee,e.gridWidth),Ce.top=Ye(ne,e.gridHeight));var Ee=e.grid.renderSolution(),Re=Object(L.jsxs)("div",{className:"solution-container",style:Ce,children:[Object(L.jsx)("span",Object(Te.a)(Object(Te.a)({},ge),{},{children:"Target"})),Object(L.jsxs)("div",Object(Te.a)(Object(Te.a)({},xe),{},{children:[Object(L.jsx)(Ge,{canZoomIn:pe,canZoomOut:fe,zoomInHandler:function(){pe&&me&&l(s+1)},zoomOutHandler:function(){fe&&me&&l(s-1)}}),Ee,Object(L.jsx)(Me,{row:e.playerRow,col:e.playerCol})]}))]});if(je){var Ne=e.appHeight?Math.max(.8*e.appHeight,35):500;Re=Object(L.jsx)(ze.Resizable,{axis:"y",width:0,height:we,onResize:function(t,o){if(e.appHeight){var i=o.size.height/e.appHeight;i=Le(i,.8,35/e.appHeight),g(i)}},minConstraints:[0,35],maxConstraints:[1/0,Ne],resizeHandles:["n"],children:Re})}else Re=Object(L.jsx)(ze.Resizable,{height:m,width:j,onResize:function(t,o){var i=o.size.width,n=o.size.height;if(e.gridWidth&&e.gridHeight){var s=Be(i,n,ee,ne,e.gridWidth,e.gridHeight);i=s.width,n=s.height}b(i),p(n)},minConstraints:[We,We],maxConstraints:[500,500],resizeHandles:["sw"],children:Re});return Object(L.jsx)(K.Provider,{value:he,children:Object(L.jsx)(Z.Provider,{value:ue,children:Re})})}o(93);function Ze(e){var t="adjust-btn ".concat(e.canUndo?"":" adjust-disabled"),o="adjust-btn ".concat(e.canRedo?"":" adjust-disabled"),i="adjust-btn ".concat(e.canZoomIn?"":" adjust-disabled"),n="adjust-btn ".concat(e.canZoomOut?"":" adjust-disabled");return Object(L.jsxs)("div",{className:"adjust-menu game-adjust-menu",children:[Object(L.jsxs)("div",{className:"adjust-btn",children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.restartHandler,"aria-label":"Restart game",children:Object(L.jsx)(p.a,{icon:f.j})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Restart"})]}),Object(L.jsx)("div",{className:"adjust-separator"}),Object(L.jsxs)("div",{className:t,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.undoHandler,"aria-label":"Undo",children:Object(L.jsx)(p.a,{icon:f.l})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Undo"})]}),Object(L.jsxs)("div",{className:o,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.redoHandler,"aria-label":"Redo",children:Object(L.jsx)(p.a,{icon:f.g})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Redo"})]}),Object(L.jsx)("div",{className:"adjust-separator"}),Object(L.jsxs)("div",{className:i,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.zoomInHandler,"aria-label":"Zoom in",children:Object(L.jsx)(p.a,{icon:f.i})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Zoom In"})]}),Object(L.jsxs)("div",{className:n,children:[Object(L.jsx)("button",{tabIndex:0,onClick:e.zoomOutHandler,"aria-label":"Zoom out",children:Object(L.jsx)(p.a,{icon:f.h})}),Object(L.jsx)("div",{className:"adjust-tooltip",children:"Zoom Out"})]})]})}o(94);function Qe(e){var t=Object(i.useState)(!1),o=Object(u.a)(t,2),n=o[0],s=o[1],l="settings ".concat(e.visible?"settings-enabled":""),r=null;if(e.onEraseData){var a=null;n&&(a=Object(L.jsxs)("div",{children:[Object(L.jsxs)("p",{children:["Are you sure you want to continue. If yes, your save data will be ",Object(L.jsx)("strong",{children:"permanently"})," erased."]}),Object(L.jsx)("button",{className:"erase-confirm-btn erase-continue",onClick:function(){e.onEraseData&&e.onEraseData(),s(!1)},children:"Continue"}),Object(L.jsx)("button",{className:"erase-confirm-btn erase-cancel",onClick:s.bind(null,!1),children:"Cancel"})]})),r=Object(L.jsxs)("div",{className:"settings-erase",children:[Object(L.jsx)("h2",{children:"Save Data"}),Object(L.jsx)("button",{onClick:s.bind(null,!0),children:"Erase save data?"}),a]})}return Object(L.jsxs)("div",{className:l,children:[Object(L.jsxs)("header",{className:"top-bar settings-top-bar",children:[Object(L.jsx)("button",{className:"top-bar-text back-btn","aria-label":"Go back",onClick:function(){s(!1),e.onGoBack()},children:Object(L.jsx)(p.a,{icon:f.a})}),Object(L.jsx)("div",{className:"level-select-title",children:Object(L.jsx)("h1",{className:"top-bar-text",children:"Settings"})}),Object(L.jsx)("div",{className:"clearfix"})]}),Object(L.jsx)("main",{className:"settings-main",children:Object(L.jsx)("section",{className:"settings-section",children:r})})]})}o(95);function _e(e){var t="instructions ".concat(e.visible?"instructions-enabled":"");return Object(L.jsxs)("div",{className:t,children:[Object(L.jsxs)("header",{className:"top-bar instructions-top-bar",children:[Object(L.jsx)("button",{className:"top-bar-text back-btn","aria-label":"Go back",onClick:e.onGoBack,children:Object(L.jsx)(p.a,{icon:f.a})}),Object(L.jsx)("div",{className:"level-select-title",children:Object(L.jsx)("h1",{className:"top-bar-text",children:"How to Play"})}),Object(L.jsx)("div",{className:"clearfix"})]}),Object(L.jsx)("main",{className:"instructions-main",children:Object(L.jsxs)("section",{className:"instructions-section",children:[Object(L.jsx)("h2",{children:"Objective"}),Object(L.jsxs)("p",{children:["The goal for any level in ",Object(L.jsx)("em",{children:" Color Coords "})," is to color the puzzle grid so that it matches the grid shown in the target window. In order to color the puzzle grid, you must move of the",Object(L.jsx)("em",{className:"highlight",children:" player piece "})," across the grid. As you move the player piece across the grid, you may land on tiles that contain an",Object(L.jsx)("em",{className:"highlight",children:" item"}),". Find the solution to each puzzle by maneuvering the player piece and utilizing any items placed on the grid."]}),Object(L.jsx)("h2",{children:"Gameplay"}),Object(L.jsx)("h3",{children:"Player Piece"}),Object(L.jsxs)("p",{children:["The ",Object(L.jsx)("em",{children:" player piece "})," moves across the board, one tile at a time. It can move either ",Object(L.jsx)("em",{className:"highlight",children:" up, down, left or right"}),". At the start of the game, the piece starts in an",Object(L.jsx)("em",{className:"highlight",children:" uncolored state"}),". While in this state, the player piece does not affect the puzzle grid in any way. With the help of items, you can change the state of the player piece to color the grid."]}),Object(L.jsx)("h3",{children:"Items"}),Object(L.jsx)("p",{children:"Items are used to alter the puzzle grid and/or the player piece."}),Object(L.jsx)("div",{className:"table-container",children:Object(L.jsxs)("table",{children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Type"}),Object(L.jsx)("th",{children:"Description"})]})}),Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Color Swatch"}),Object(L.jsxs)("td",{children:["This item changes the color of the player piece to the same color as the swatch. While the player piece is colored,",Object(L.jsx)("em",{className:"highlight",children:" it will color any tile that it lands on"}),"."]})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Dark Swatch"}),Object(L.jsxs)("td",{children:["This item turns the player piece black. While the player piece is in this state, it will",Object(L.jsx)("em",{className:"highlight",children:" erase color "}),"from any grid tile it lands on."]})]})]})]})}),Object(L.jsx)("h3",{children:"Tiles"}),Object(L.jsxs)("p",{children:["The puzzle grid is made up of ",Object(L.jsx)("em",{children:" tiles"}),". There are several different types of tiles, each with its own properties."]}),Object(L.jsx)("div",{className:"table-container",children:Object(L.jsxs)("table",{children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Type"}),Object(L.jsx)("th",{children:"Description"})]})}),Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Default Tile"}),Object(L.jsxs)("td",{children:["Default tiles start off white and",Object(L.jsx)("em",{className:"highlight",children:" can be colored "})," by the player piece if they happen to land on the tile while in a colored state."]})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Dark Tile"}),Object(L.jsxs)("td",{children:["Dark tiles are black and ",Object(L.jsx)("em",{className:"highlight",children:" cannot be changed to a different color "})," even if the player piece lands on it while in a colored state."]})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Ice Tile"}),Object(L.jsxs)("td",{children:["After the player piece moves onto an ice tile, it will continue to ",Object(L.jsx)("em",{className:"highlight",children:" slide in the same direction "})," until it hits a wall or until it lands on a non-ice tile. These tiles ",Object(L.jsx)("em",{className:"highlight",children:" can be colored"}),", similar to default tiles."]})]})]})]})}),Object(L.jsx)("h2",{children:"Stars"}),Object(L.jsxs)("p",{children:["After completing a level, you will be rewarded with up to three stars. You will earn at least one star for each level completed. To earn two or three stars on a level, you must complete the level within a certain amount of moves. ",Object(L.jsx)("em",{className:"highlight",children:" In general, the fewer moves you use to complete a level, the more stars you will receive. "})," Check the",Object(L.jsx)("em",{children:" level select "})," screen for the required number of moves required to each additional stars for each level."]}),Object(L.jsx)("h2",{children:"Controls"}),Object(L.jsx)("div",{className:"table-container",children:Object(L.jsxs)("table",{children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Action"}),Object(L.jsx)("th",{children:"Keyboard"}),Object(L.jsx)("th",{children:"Mouse"})]})}),Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Player Piece Movement"}),Object(L.jsx)("td",{children:"Arrow keys"}),Object(L.jsx)("td",{children:"Left click on tile"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Toggle Target"}),Object(L.jsx)("td",{children:"Q (hold)"}),Object(L.jsx)("td",{children:"-"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Undo"}),Object(L.jsx)("td",{children:"Z"}),Object(L.jsx)("td",{children:"-"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Redo"}),Object(L.jsx)("td",{children:"Y"}),Object(L.jsx)("td",{children:"-"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Restart"}),Object(L.jsx)("td",{children:"R"}),Object(L.jsx)("td",{children:"-"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Toggle Game Menu"}),Object(L.jsx)("td",{children:"Escape"}),Object(L.jsx)("td",{children:"-"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:"Reposition Grid/Target"}),Object(L.jsx)("td",{children:"-"}),Object(L.jsx)("td",{children:"Left click (drag)"})]})]})]})}),Object(L.jsx)("h2",{children:"Miscellaneous"}),Object(L.jsxs)("p",{children:["If you want to adjust the layout of the game, you can",Object(L.jsx)("em",{className:"highlight",children:" reposition "})," the puzzle grid and/or the target window by dragging the screen with your cursor. For the target, you can reposition both the target window, as well as the target grid within the window. You can also ",Object(L.jsx)("em",{className:"highlight",children:" zoom in or out"}),", using the zoom buttons in the quick menus. If you want to reset back to the default layout, go into the game menu and select",Object(L.jsx)("em",{className:"highlight",children:" Reset Layout"}),"."]})]})})]})}o(96);function Xe(e){var t=Object(i.useState)(0),o=Object(u.a)(t,2),n=o[0],s=o[1];Object(i.useEffect)((function(){n>=e.levelInstructions.length&&e.onComplete()}),[n]);if(n>=e.levelInstructions.length||n<0)return null;var l=e.levelInstructions[n].element,r=n>0,a=n<e.levelInstructions.length-1,c=r?Object(L.jsx)("button",{className:"game-tutorial-btn left-btn",onClick:function(){e.isMenuOpen||s(n-1)},children:"Previous"}):null,h=a?Object(L.jsx)("button",{className:"game-tutorial-btn right-btn skip-btn",onClick:function(){e.isMenuOpen||s(e.levelInstructions.length)},children:"Skip"}):null,d=n<e.levelInstructions.length-1?"Next":"Finish";return Object(L.jsxs)("div",{className:"game-tutorial",children:[l,Object(L.jsxs)("div",{className:"game-tutorial-btn-container",children:[c,h,Object(L.jsx)("button",{className:"game-tutorial-btn right-btn",onClick:function(){e.isMenuOpen||s(n+1)},children:d}),Object(L.jsx)("div",{className:"clearfix"})]})]})}var Ve=function(){function e(t,o,i,n){Object(G.a)(this,e),this.row=void 0,this.col=void 0,this.grid=void 0,this.color=void 0,this.row=t,this.col=o,this.grid=i,this.color=null!==n&&void 0!==n?n:I.DEFAULT}return Object(W.a)(e,[{key:"move",value:function(e){var t,o=0,i=0,n=this.grid.getCellAt(this.row,this.col);if(e.currentDirection){var s=B[e.currentDirection];o=s.rowOffset,i=s.colOffset,t=e.currentDirection}else if((null===n||void 0===n?void 0:n.ice)&&e.prevDirection){var l=B[e.prevDirection];o=l.rowOffset,i=l.colOffset,t=e.prevDirection}if((0!==o||0!==i)&&t){var r=this.row+o,a=this.col+i,c=this.grid.getCellAt(r,a);if(c){var u;this.row=r,this.col=a,c.item&&(u=c.item.updatePlayerColor())&&(this.color=u);var h=z.DEFAULT;return(null===n||void 0===n?void 0:n.ice)&&c.ice&&!e.currentDirection?h=z.ON_ICE:c.ice?h=z.TO_ICE:(null===n||void 0===n?void 0:n.ice)&&e.prevDirection&&(h=z.FROM_ICE),{moved:!0,newRow:this.row,newCol:this.col,newColor:this.color,directionMoved:t,gridCellMovedTo:c,movementType:h}}}return{moved:!1,newRow:this.row,newCol:this.col,newColor:this.color}}}]),e}(),Je=function e(t,o,i,n){Object(G.a)(this,e),this.grid=void 0,this.playerRow=void 0,this.playerCol=void 0,this.playerColor=void 0,this.previous=null,this.next=null,this.grid=t,this.playerRow=o,this.playerCol=i,this.playerColor=n},$e=function(){function e(){Object(G.a)(this,e),this.start=null,this.end=null,this._size=0}return Object(W.a)(e,[{key:"size",get:function(){return this._size}},{key:"push",value:function(e,t,o,i){var n=new Je(e,t,o,i);return this._size+=1,this.end?(n.previous=this.end,this.end.next=n,this.end=n):this.start=this.end=n,n}},{key:"pop",value:function(){if(!this.end)return null;if(this.start===this.end){var e=this.end;return this.start=this.end=null,this._size-=1,e}var t=this.end;return this.end=this.end.previous,this.end&&(this.end.next=null),this._size-=1,t}},{key:"unshift",value:function(e,t,o,i){var n=new Je(e,t,o,i);return this._size+=1,this.start?(n.next=this.start,this.start.previous=n,this.start=n):this.start=this.end=n,n}},{key:"shift",value:function(){if(!this.start)return null;if(this.start===this.end){var e=this.start;return this.start=this.end=null,this._size-=1,e}var t=this.start;return this.start=this.start.next,this.start&&(this.start.previous=null),this._size-=1,t}},{key:"clear",value:function(){this.start=null,this.end=null,this._size=0}}]),e}(),et=function(){function e(t,o,i,n){Object(G.a)(this,e),this.undoHistory=void 0,this.redoHistory=void 0,this.currentState=void 0,this.undoHistory=new $e,this.redoHistory=new $e,this.currentState={grid:t,playerRow:o,playerCol:i,playerColor:n}}return Object(W.a)(e,[{key:"size",get:function(){return this.undoHistory.size+this.redoHistory.size}},{key:"push",value:function(e,t,o,i){for(this.undoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),this.currentState.grid=e,this.currentState.playerRow=t,this.currentState.playerCol=o,this.currentState.playerColor=i,this.redoHistory.clear();this.size>60;)this.undoHistory.shift()}},{key:"undo",value:function(){if(!this.canUndo())return null;var e=this.undoHistory.pop();return this.redoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),e?(this.currentState.grid=e.grid,this.currentState.playerRow=e.playerRow,this.currentState.playerCol=e.playerCol,this.currentState.playerColor=e.playerColor,{grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor}):null}},{key:"redo",value:function(){if(!this.canRedo())return null;var e=this.redoHistory.pop();return this.undoHistory.push(this.currentState.grid,this.currentState.playerRow,this.currentState.playerCol,this.currentState.playerColor),e?(this.currentState.grid=e.grid,this.currentState.playerRow=e.playerRow,this.currentState.playerCol=e.playerCol,this.currentState.playerColor=e.playerColor,{grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor}):null}},{key:"canUndo",value:function(){return this.undoHistory.size>0}},{key:"canRedo",value:function(){return this.redoHistory.size>0}}]),e}(),tt=function(){function e(t,o,i,n,s,l){Object(G.a)(this,e),this.row=void 0,this.col=void 0,this.animationType=void 0,this.color=void 0,this.movementType=void 0,this.isStart=void 0,this.row=t,this.col=o,this.animationType=i,this.color=n,this.movementType=s,this.isStart=l}return Object(W.a)(e,[{key:"isPlayerAnimation",value:function(){return this.animationType===A.PLAYER}},{key:"isTileAnimation",value:function(){return this.animationType===A.TILE}}]),e}(),ot=function(e){Object(J.a)(o,e);var t=Object($.a)(o);function o(e,i,n,s,l){return Object(G.a)(this,o),t.call(this,e,i,A.PLAYER,n,s,l)}return o}(tt),it=function(e){Object(J.a)(o,e);var t=Object($.a)(o);function o(e,i,n){return Object(G.a)(this,o),t.call(this,e,i,A.TILE,n)}return o}(tt),nt=(o(97),function(e){Object(J.a)(o,e);var t=Object($.a)(o);function o(e){var i;return Object(G.a)(this,o),(i=t.call(this,e)).movementKeyFnMap=void 0,i.utilKeyFnMap=void 0,i.keyPressFlagMap=void 0,i.gridAnimationQueue=void 0,i.gameContainerRef=void 0,i.gameHistory=void 0,i.state={grid:new X(e.gridConfig),playerRow:e.playerRow,playerCol:e.playerCol,playerColor:I.DEFAULT,showSolution:!1,movesTaken:0,gameStarted:!1,gameOver:!1,gameWon:!1,starsWon:0,isPlayerMoving:!1,isMenuOpen:!1,areSettingsOpened:!1,areInstructionsOpened:!1,shouldCancelTilePress:!1,shouldResetLayout:!1,showTutorial:!e.completedBefore&&!!e.levelInstructions&&e.levelInstructions.length>0,tileSizeIndex:6},i.gridAnimationQueue=new we.Queue,i.gameContainerRef=n.a.createRef(),i.gameHistory=new et(i.state.grid,i.state.playerRow,i.state.playerCol,i.state.playerColor),i.onKeyDown=i.onKeyDown.bind(Object(Ce.a)(i)),i.onKeyUp=i.onKeyUp.bind(Object(Ce.a)(i)),i.resetFlags=i.resetFlags.bind(Object(Ce.a)(i)),i.onPlayerAnimationEnd=i.onPlayerAnimationEnd.bind(Object(Ce.a)(i)),i.restartGame=i.restartGame.bind(Object(Ce.a)(i)),i.inGameRestart=i.inGameRestart.bind(Object(Ce.a)(i)),i.setMenuOpen=i.setMenuOpen.bind(Object(Ce.a)(i)),i.undo=i.undo.bind(Object(Ce.a)(i)),i.redo=i.redo.bind(Object(Ce.a)(i)),i.zoomIn=i.zoomIn.bind(Object(Ce.a)(i)),i.zoomOut=i.zoomOut.bind(Object(Ce.a)(i)),i.showSettings=i.showSettings.bind(Object(Ce.a)(i)),i.showInstructions=i.showInstructions.bind(Object(Ce.a)(i)),i.hideOtherWindows=i.hideOtherWindows.bind(Object(Ce.a)(i)),i.onTilePress=i.onTilePress.bind(Object(Ce.a)(i)),i.setShouldCancelTilePress=i.setShouldCancelTilePress.bind(Object(Ce.a)(i)),i.onGridSizeChange=i.onGridSizeChange.bind(Object(Ce.a)(i)),i.resetLayout=i.resetLayout.bind(Object(Ce.a)(i)),i.onCompleteTutorial=i.onCompleteTutorial.bind(Object(Ce.a)(i)),i.startTutorial=i.startTutorial.bind(Object(Ce.a)(i)),i.movementKeyFnMap={ArrowUp:i.movePlayerByKeyDown.bind(Object(Ce.a)(i),U.UP),ArrowDown:i.movePlayerByKeyDown.bind(Object(Ce.a)(i),U.DOWN),ArrowLeft:i.movePlayerByKeyDown.bind(Object(Ce.a)(i),U.LEFT),ArrowRight:i.movePlayerByKeyDown.bind(Object(Ce.a)(i),U.RIGHT)},i.utilKeyFnMap={r:i.inGameRestart,y:i.redo,z:i.undo},i.keyPressFlagMap={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1},i}return Object(W.a)(o,[{key:"onKeyDown",value:function(e){"Escape"===e.key||"Esc"===e.key?(e.preventDefault(),this.setMenuOpen(!this.state.isMenuOpen)):this.state.isMenuOpen?this.handleMenuKeyDown(e):this.movementKeyFnMap[e.key]?(e.preventDefault(),this.keyPressFlagMap[e.key]||(this.keyPressFlagMap[e.key]=!0,this.movementKeyFnMap[e.key](e))):this.utilKeyFnMap[e.key]?(e.preventDefault(),this.utilKeyFnMap[e.key]()):"q"===e.key.toLowerCase()&&(e.preventDefault(),this.setState({showSolution:!0}))}},{key:"handleMenuKeyDown",value:function(e){var t=document.activeElement,o=!!t&&t.classList.contains("hamburger-react"),i=!!t&&t.classList.contains("game-menu-btn"),n=!!t&&t.classList.contains("game-menu-first"),s=!!t&&t.classList.contains("game-menu-last");if("ArrowDown"===e.key)if(e.preventDefault(),!t||s||!o&&!i){var l=document.querySelector(".hamburger-react");l&&l.focus()}else if(o){var r=document.querySelector(".game-menu-btn");r&&r.focus()}else{var a=t.nextSibling;a&&a.focus()}else if("ArrowUp"===e.key)if(e.preventDefault(),t&&!o&&i)if(n){var c=document.querySelector(".hamburger-react");c&&c.focus()}else{var u=t.previousSibling;u&&u.focus()}else{var h=document.querySelector(".game-menu-last");h&&h.focus()}}},{key:"onKeyUp",value:function(e){this.keyPressFlagMap[e.key]?(e.preventDefault(),this.keyPressFlagMap[e.key]=!1):"q"===e.key.toLowerCase()&&(e.preventDefault(),this.setState({showSolution:!1}))}},{key:"resetFlags",value:function(){for(var e in this.keyPressFlagMap)this.keyPressFlagMap[e]=!1;this.setState({showSolution:!1})}},{key:"makeMove",value:function(e,t,o){var i,n=t.move(o),s=(i={count:0},Object(q.a)(i,U.UP,0),Object(q.a)(i,U.DOWN,0),Object(q.a)(i,U.LEFT,0),Object(q.a)(i,U.RIGHT,0),i);if(!n.moved)return s;for(var l=!0;n.moved;){var r=n,a=r.newRow,c=r.newCol,u=r.newColor,h=r.gridCellMovedTo,d=r.movementType,j=r.directionMoved;s.count+=1,j&&void 0!==s[j]&&(s[j]+=1);var b=h&&h.updateColor(u);b&&this.gridAnimationQueue.enqueue(new it(a,c,b)),this.gridAnimationQueue.enqueue(new ot(a,c,u,d,l)),o={currentDirection:null,prevDirection:j||null},l=!1,n=t.move(o)}return this.gameHistory.push(e,t.row,t.col,t.color),s}},{key:"isAnimationInProgress",value:function(){return this.gridAnimationQueue.size()>0||this.state.isPlayerMoving}},{key:"isGameActive",value:function(){return!this.state.gameOver&&!this.state.isMenuOpen}},{key:"movePlayerByKeyDown",value:function(){var e=Object(c.a)(a.a.mark((function e(t,o){var i,n,s,l,r,c,u,h,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(!this.keyPressFlagMap[o.key]||!this.isGameActive()){e.next=20;break}if(!this.isAnimationInProgress()&&!i){e.next=7;break}return i=!1,e.next=6,ke(0);case 6:return e.abrupt("continue",1);case 7:if(n=this.state,s=n.grid,l=n.playerRow,r=n.playerCol,c=n.playerColor,u=Object(H.cloneDeep)(s),h=new Ve(l,r,u,c),d={currentDirection:t,prevDirection:null},0!==this.makeMove(u,h,d).count){e.next=16;break}return e.next=15,ke(0);case 15:return e.abrupt("continue",1);case 16:this.startNextAnimation(),i=!0,e.next=1;break;case 20:case"end":return e.stop()}}),e,this)})));return function(t,o){return e.apply(this,arguments)}}()},{key:"onTilePress",value:function(e,t){var o=this.state,i=o.grid,n=o.playerRow,s=o.playerCol,l=o.playerColor,r=o.shouldCancelTilePress;if(!(e===n&&t===s||e!==n&&t!==s||this.isAnimationInProgress()||r)){var a=null;e<n?a=U.UP:e>n?a=U.DOWN:t<s?a=U.LEFT:t>s&&(a=U.RIGHT);for(var c=Math.max(Math.abs(n-e),Math.abs(s-t)),u=Object(H.cloneDeep)(i),h=new Ve(n,s,u,l),d=0;d<c;){var j={currentDirection:a,prevDirection:null},b=this.makeMove(u,h,j);if(0===b.count)break;for(var v=!1,O=0,m=[U.UP,U.DOWN,U.LEFT,U.RIGHT];O<m.length;O++){var p=m[O];if(p!==a&&b[p]>0){v=!0;break}}if(v)break;a&&b[a]&&(d+=b[a]),u=Object(H.cloneDeep)(u),h.grid=u}this.startNextAnimation()}}},{key:"onGridSizeChange",value:function(e,t){this.setState({gridWidth:e,gridHeight:t})}},{key:"startNextAnimation",value:function(){for(var e=this,t=function(){var t=e.gridAnimationQueue.dequeue();if(t.isPlayerAnimation())return e.setState({playerRow:t.row,playerCol:t.col,playerColor:t.color,isPlayerMoving:!0,gameStarted:!0,movesTaken:e.state.movesTaken+(t.isStart?1:0),playerMovementType:t.movementType}),"break";e.setState({grid:Object(d.a)(e.state.grid,(function(e){var o=e.getCellAt(t.row,t.col);o&&(o.color=t.color)}))})};this.gridAnimationQueue.size()>0;){if("break"===t())break}}},{key:"onPlayerAnimationEnd",value:function(){this.setState({isPlayerMoving:!1}),this.gridAnimationQueue.size()>0?this.startNextAnimation():this.state.grid.isGridSolved()&&this.setState({gameOver:!0,gameWon:!0,showTutorial:!1,starsWon:this.props.handleStarUpdate(this.props.levelNumber,this.state.movesTaken)})}},{key:"restartGame",value:function(){var e=new X(this.props.gridConfig);this.setState({grid:e,playerRow:this.props.playerRow,playerCol:this.props.playerCol,playerColor:I.DEFAULT,movesTaken:0,gameStarted:!1,gameOver:!1,gameWon:!1,starsWon:0,isPlayerMoving:!1,showSolution:!1,isMenuOpen:!1,shouldCancelTilePress:!1,shouldResetLayout:!1}),this.gameHistory=new et(e,this.props.playerRow,this.props.playerCol,I.DEFAULT),this.gridAnimationQueue.clear(),this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"inGameRestart",value:function(){this.canAlterGameState()&&this.restartGame()}},{key:"canAlterGameState",value:function(){return!this.state.isPlayerMoving&&this.gridAnimationQueue.size()<=0&&this.isGameActive()}},{key:"undo",value:function(){if(this.canAlterGameState()){var e=this.gameHistory.undo();e&&this.setState({grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor,movesTaken:this.state.movesTaken-1})}}},{key:"redo",value:function(){if(this.canAlterGameState()){var e=this.gameHistory.redo();e&&this.setState({grid:e.grid,playerRow:e.playerRow,playerCol:e.playerCol,playerColor:e.playerColor,movesTaken:this.state.movesTaken+1})}}},{key:"canZoomIn",value:function(){return this.state.tileSizeIndex<Y.length-1}},{key:"canZoomOut",value:function(){return this.state.tileSizeIndex>0}},{key:"zoomIn",value:function(){this.canZoomIn()&&this.isGameActive()&&this.setState({tileSizeIndex:this.state.tileSizeIndex+1})}},{key:"zoomOut",value:function(){this.canZoomOut()&&this.isGameActive()&&this.setState({tileSizeIndex:this.state.tileSizeIndex-1})}},{key:"setMenuOpen",value:function(e){this.setState({isMenuOpen:e}),this.resetFlags(),e||this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"showSettings",value:function(){this.setState({areSettingsOpened:!0,areInstructionsOpened:!1})}},{key:"showInstructions",value:function(){this.setState({areSettingsOpened:!1,areInstructionsOpened:!0})}},{key:"resetLayout",value:function(){var e=this;this.setState({shouldResetLayout:!0,tileSizeIndex:6},Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke(0);case 2:e.setState({shouldResetLayout:!1});case 3:case"end":return t.stop()}}),t)}))))}},{key:"hideOtherWindows",value:function(){this.setState({areSettingsOpened:!1,areInstructionsOpened:!1,isMenuOpen:!1})}},{key:"onCompleteTutorial",value:function(){this.setState({showTutorial:!1})}},{key:"startTutorial",value:function(){this.setState({showTutorial:!0})}},{key:"componentDidMount",value:function(){this.gameContainerRef.current&&this.gameContainerRef.current.focus()}},{key:"componentDidUpdate",value:function(e){this.props.levelNumber!==e.levelNumber&&(this.restartGame(),this.setState({tileSizeIndex:6,showTutorial:!this.props.completedBefore&&!!this.props.levelInstructions&&this.props.levelInstructions.length>0}))}},{key:"setShouldCancelTilePress",value:function(e){this.setState({shouldCancelTilePress:e})}},{key:"render",value:function(){var e,t=this.state,o=t.grid,i=t.playerRow,n=t.playerCol,s=t.playerColor,l=t.playerMovementType,r=t.showSolution,a=t.isPlayerMoving,c=t.movesTaken,u=t.gameStarted,h=t.gameWon,d=t.gameOver,j=t.isMenuOpen,b=t.areSettingsOpened,v=t.areInstructionsOpened,O=t.gridWidth,m=t.gridHeight,p=t.shouldResetLayout,f="game";f+=h?" game-won":"",f+=u?"":" game-pending";var x=b||v?{display:"none"}:{},y=h?Object(L.jsx)(Ue,{levelNumber:this.props.levelNumber,stars:this.state.starsWon,restartHandler:this.restartGame,starsScoredOnLevel:this.props.starsScoredOnLevel,starsToUnlockLevel:this.props.starsToUnlockLevel}):null,g=null!==(e=Y[this.state.tileSizeIndex])&&void 0!==e?e:48,C=!!this.props.levelInstructions&&this.props.levelInstructions.length>0&&!this.state.showTutorial?this.startTutorial:void 0,w=this.props.levelInstructions&&this.state.showTutorial?Object(L.jsx)(Xe,{levelInstructions:this.props.levelInstructions,onComplete:this.onCompleteTutorial,isMenuOpen:j}):null;return Object(L.jsxs)("div",{children:[Object(L.jsx)(Z.Provider,{value:g,children:Object(L.jsxs)("div",{className:f,ref:this.gameContainerRef,tabIndex:1,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:this.resetFlags,onBlur:this.resetFlags,style:x,children:[Object(L.jsx)(Ae,{movesTaken:c,levelNumber:this.props.levelNumber,levelName:this.props.levelName,isMenuOpen:j,setMenuOpen:this.setMenuOpen,showSettings:this.showSettings,showInstructions:this.showInstructions,resetLayout:this.resetLayout,startTutorial:C}),Object(L.jsx)(Ke,{grid:o,playerRow:i,playerCol:n,levelNumber:this.props.levelNumber,gridWidth:O,gridHeight:m,appHeight:this.props.appHeight,shouldResetLayout:p,gameOver:d,isMenuOpen:j}),Object(L.jsx)(Ze,{canUndo:this.gameHistory.canUndo(),canRedo:this.gameHistory.canRedo(),canZoomIn:this.canZoomIn(),canZoomOut:this.canZoomOut(),restartHandler:this.inGameRestart,undoHandler:this.undo,redoHandler:this.redo,zoomInHandler:this.zoomIn,zoomOutHandler:this.zoomOut}),Object(L.jsx)(Se,{grid:o,playerRow:i,playerCol:n,playerColor:s,levelNumber:this.props.levelNumber,showSolution:r,isPlayerMoving:a,playerMovementType:l,onPlayerAnimationEnd:this.onPlayerAnimationEnd,onTilePress:this.onTilePress,dragHandler:this.setShouldCancelTilePress,onGridSizeChange:this.onGridSizeChange,shouldResetLayout:p}),y,w]})}),Object(L.jsx)(Qe,{visible:b,onGoBack:this.hideOtherWindows}),Object(L.jsx)(_e,{visible:v,onGoBack:this.hideOtherWindows})]})}}]),o}(n.a.Component));function st(e){var t=Object(O.g)().levelNumber,o=parseInt(t);if(isNaN(o)||!ve[o-1]||e.starCount<ve[o-1].requiredToUnlock)return Object(L.jsx)(O.a,{to:"/level-select"});var i=ve[o-1],n=i.id,s=i.gridConfig,l=i.playerRow,r=i.playerCol,a=i.levelName,c=i.levelInstructions;return Object(L.jsx)(nt,{gridConfig:s,playerRow:l,playerCol:r,levelName:a,levelNumber:o,handleStarUpdate:e.handleStarUpdate,starsScoredOnLevel:e.starsScoredOnLevel,starsToUnlockLevel:e.starsToUnlockLevel,appHeight:e.appHeight,levelInstructions:c,completedBefore:!!e.levelScoreMap[n]&&e.levelScoreMap[n].solved})}o(98);var lt=Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("span",{className:"first-letter",children:"C"}),"OLOR\xa0",Object(L.jsx)("span",{className:"first-letter",children:"C"}),"OORDS"]});function rt(e){for(var t=Object(i.useState)(300*Math.random()),o=Object(u.a)(t,1)[0],n=Object(i.useState)(e.playAnimation),s=Object(u.a)(n,2),l=s[0],r=s[1],a=Object(i.useState)(!1),c=Object(u.a)(a,2),h=c[0],d=c[1],j=Object(i.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],f=Object(i.useState)(null),x=Object(u.a)(f,2),y=x[0],g=x[1],C=function(){d(!1),p(!1),r(!1)},w="home-container ".concat(l?"":" home-anim-off"),T=[],E=[],R=0;R<6;R+=1){var N="title-colored-".concat(R+1),k="title-box title-colored ".concat(N);T.push(Object(L.jsx)("div",{className:k,children:Object(L.jsx)("span",{className:"title-text","aria-hidden":!0,children:lt})},N))}for(var S=0;S<4;S+=1)for(var P=0;P<48;P+=1){var D="bg-layer-".concat(S+1,"-").concat(P+1),I="bg-layer bg-layer-".concat(P+1);E.push(Object(L.jsx)("div",{className:I},D))}var A={animationDelay:"-".concat(o,"s")},U={display:h||m?"none":"block"};return null!==y?Object(L.jsx)(O.a,{to:"/game/".concat(y)}):Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:w,style:U,children:[Object(L.jsx)("div",{className:"home-bg",children:Object(L.jsx)("div",{className:"home-bg-gradient",style:A,children:E})}),Object(L.jsxs)("div",{className:"title-container",children:[Object(L.jsx)("div",{className:"title-box title-main",children:Object(L.jsx)("h1",{className:"title-text","aria-label":"Color Coords",children:lt})}),T]}),Object(L.jsxs)("nav",{className:"home-nav",children:[Object(L.jsx)("button",{className:"home-nav-btn-1",onClick:function(){for(var t=1,o=null,i=null,n=0;n<ve.length;n+=1){var s=n+1,l=e.starsScoredOnLevel(s);if(0===l){o=n+1;break}l>0&&(t=n+1,null===i&&l<3&&(i=n+1))}g(null!==o?o:null!==i?i:t)},children:"Play"}),Object(L.jsx)("br",{}),Object(L.jsx)(v.b,{to:"/level-select",className:"home-nav-btn-2",children:"Level Select"}),Object(L.jsx)("br",{}),Object(L.jsx)("button",{className:"home-nav-btn-3",onClick:function(){d(!1),p(!0)},children:"How to Play"}),Object(L.jsx)("br",{}),Object(L.jsx)("button",{className:"home-nav-btn-4",onClick:function(){d(!0),p(!1)},children:"Settings"})]})]}),Object(L.jsx)(Qe,{visible:h,onGoBack:C,onEraseData:e.onEraseData}),Object(L.jsx)(_e,{visible:m,onGoBack:C})]})}var at=o(31),ct=o(34);function ut(){var e,t={},o=Object(at.a)(ve);try{for(o.s();!(e=o.n()).done;){t[e.value.id]={solved:!1,moves:0,stars:0}}}catch(i){o.e(i)}finally{o.f()}return t}function ht(e,t,o){var i=1;return e<=t?i=3:e<=o&&(i=2),i}var dt="cc",jt="scores";function bt(e){e.createObjectStore(jt,{keyPath:"id"})}function vt(){return(vt=Object(c.a)(a.a.mark((function e(){var t,o,i,n,s,l,r,c,u,h,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)(dt,1,{upgrade:bt});case 2:return t=e.sent,o=t.transaction(jt,"readonly"),i=o.objectStore(jt),e.next=7,i.getAll();case 7:return n=e.sent,e.next=10,o.done;case 10:t.close(),s=ut(),l={},r=Object(at.a)(ve);try{for(r.s();!(c=r.n()).done;)u=c.value,l[u.id]=u}catch(a){r.e(a)}finally{r.f()}h=Object(at.a)(n);try{for(h.s();!(d=h.n()).done;)j=d.value,!isNaN(null===j||void 0===j?void 0:j.moves)&&s[null===j||void 0===j?void 0:j.id]&&(s[j.id].solved=!0,s[j.id].moves=parseInt(j.moves,10),s[j.id].stars=ht(s[j.id].moves,l[j.id].starRequirement3,l[j.id].starRequirement2))}catch(a){h.e(a)}finally{h.f()}return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(c.a)(a.a.mark((function e(t,o){var i,n,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)(dt,1,{upgrade:bt});case 2:return i=e.sent,n=i.transaction(jt,"readwrite"),s=n.objectStore(jt),e.next=7,s.get(t);case 7:if(!(!(l=e.sent)||isNaN(null===l||void 0===l?void 0:l.moves)||o<l.moves)){e.next=11;break}return e.next=11,s.put({id:t,moves:o});case 11:return e.next=13,n.done;case 13:i.close();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(){return(mt=Object(c.a)(a.a.mark((function e(){var t,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)(dt,1,{upgrade:bt});case 2:return t=e.sent,o=t.transaction(jt,"readwrite"),i=o.objectStore(jt),e.next=7,i.clear();case 7:return e.next=9,o.done;case 9:t.close();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(99),o(100);function pt(e){var t=Object(i.useState)(0),o=Object(u.a)(t,2),n=o[0],s=o[1],l=Object(i.useState)(!0),r=Object(u.a)(l,2),j=r[0],p=r[1],f=Object(i.useState)(!1),x=Object(u.a)(f,2),y=x[0],g=x[1],C=Object(i.useState)(!1),w=Object(u.a)(C,2),T=w[0],E=w[1],R=Object(i.useState)(!1),N=Object(u.a)(R,2),k=N[0],S=N[1],P=Object(i.useState)({}),D=Object(u.a)(P,2),I=D[0],A=D[1],U=Object(h.useResizeDetector)({refreshMode:"throttle",refreshRate:1}),z=U.height,M=U.ref,G=function(e){var t,o,i,s=ve[e-1];return s&&((null===(t=I[s.id])||void 0===t?void 0:t.stars)>0||n>=s.requiredToUnlock)?null!==(o=null===(i=I[s.id])||void 0===i?void 0:i.stars)&&void 0!==o?o:0:-1},W=function(e){if(G(e)>=0)return 0;var t=ve[e-1];return t?t.requiredToUnlock-n:-1};return Object(i.useEffect)((function(){var t=ft();if(t&&t.classList.add("loader-bar-fill-state-1"),e.skipPreLoad)return E(!0),S(!0),void g(!0);var o=function(){E(!0)};b.a.load({custom:{families:["FredokaOne","Nunito:n4,n6,n7,n8","NunitoSans:n4,n6,n7,i4,i7"]},timeout:5e3,active:o,inactive:o}),function(){return vt.apply(this,arguments)}().then((function(e){A(e);var t=0;for(var o in e)t+=e[o].stars;s(t),S(!0)})).catch((function(){A(ut()),S(!0),m.b.error("Could not retrieve saved data. Please refresh and try again.")}))}),[]),Object(i.useEffect)((function(){var e=1+(T?1:0)+(k?1:0),t=ft();t&&t.classList.add("loader-bar-fill-state-".concat(e));var o=function(){var e=Object(c.a)(a.a.mark((function e(){var t,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(500);case 2:return(t=document.getElementById("loading-text"))&&(t.textContent="Let's go!"),t&&t.classList.remove("loading-text-anim-on"),(o=document.getElementById("loading-anim-window"))&&o.classList.add("loading-finished"),e.next=9,ke(2e3);case 9:return o&&o.remove(),g(!0),e.next=13,ke(0);case 13:p(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();T&&k&&!y&&o()}),[T,k]),y?Object(L.jsxs)("div",{className:"app",ref:M,children:[Object(L.jsx)(m.a,{}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(O.d,{children:[Object(L.jsx)(O.b,{path:"/game/:levelNumber",children:Object(L.jsx)(st,{starCount:n,handleStarUpdate:function(e,t){var o,i,l=ve[e-1];if(!l)return 0;var r=ht(t,l.starRequirement3,l.starRequirement2);if(t<(null===(o=I[l.id])||void 0===o?void 0:o.moves)||!1===(null===(i=I[l.id])||void 0===i?void 0:i.solved)){var a,c,u=null!==(a=null===(c=I[l.id])||void 0===c?void 0:c.stars)&&void 0!==a?a:0,h=Object(d.a)(I,(function(e){e[l.id].solved=!0,e[l.id].moves=t,e[l.id].stars=r}));A(h),s(n+(r-u))}return function(e,t){return Ot.apply(this,arguments)}(l.id,t).catch((function(){m.b.error("Unable to save data.")})),r},starsScoredOnLevel:G,starsToUnlockLevel:W,appHeight:z,levelScoreMap:I})}),Object(L.jsx)(O.b,{path:"/level-select",children:Object(L.jsx)(ge,{starCount:n,levelScoreMap:I,starsScoredOnLevel:G,starsToUnlockLevel:W})}),Object(L.jsx)(O.b,{path:"*",children:Object(L.jsx)(rt,{playAnimation:j,onEraseData:function(){var e=Object(d.a)(I,(function(e){for(var t in e)e[t].solved=!1,e[t].moves=0,e[t].stars=0}));A(e),s(0),function(){return mt.apply(this,arguments)}().then((function(){m.b.success("Save data has been erased.")})).catch((function(){m.b.error("Unable to erase data.")}))},starsScoredOnLevel:G})})]})})]}):null}function ft(){return document.getElementById("loader-bar-fill")}o(101),o(102);l.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(pt,{})}),document.getElementById("root"))},62:function(e,t,o){},66:function(e,t,o){},67:function(e,t,o){},71:function(e,t,o){},72:function(e,t,o){},73:function(e,t,o){},74:function(e,t,o){},75:function(e,t,o){},79:function(e,t,o){},80:function(e,t,o){},81:function(e,t,o){},82:function(e,t,o){},83:function(e,t,o){},84:function(e,t,o){},90:function(e,t,o){},91:function(e,t,o){},92:function(e,t,o){},93:function(e,t,o){},94:function(e,t,o){},95:function(e,t,o){},96:function(e,t,o){},97:function(e,t,o){},98:function(e,t,o){},99:function(e,t,o){}},[[103,1,2]]]);
//# sourceMappingURL=main.deda617b.chunk.js.map